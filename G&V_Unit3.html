<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mindset for IELTS 1 - Unit 3 Grammar & Vocabulary</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom CSS from your original file */
        body {
            font-family: 'Inter', sans-serif;
        }
        .correct-feedback {
            color: #10B981; /* Green-500 */
        }
        .incorrect-feedback {
            color: #EF4444; /* Red-500 */
        }
        .feedback-box {
            padding: 0.5rem 0.75rem;
            margin-top: 0.5rem;
            border-radius: 0.375rem; /* rounded-md */
            font-size: 0.875rem; /* text-sm */
        }
        .feedback-box.correct {
            background-color: #D1FAE5; /* green-100 */
            border: 1px solid #34D399; /* green-400 */
        }
        .feedback-box.incorrect {
            background-color: #FEE2E2; /* red-100 */
            border: 1px solid #F87171; /* red-400 */
        }
        /* Message Box for Save Confirmation (if needed, though not explicitly used in G&V_Unit3) */
        #message-box {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #4CAF50; /* Green */
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        #message-box.show {
            opacity: 1;
        }

        /* Styles copied and adapted from G&V_Unit3.html, ensuring compatibility with style.css */
        .exercise-section {
            margin-bottom: 2.5rem; /* mb-10 */
            padding: 1.5rem; /* p-6 */
            border-radius: 0.5rem; /* rounded-lg */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* shadow-md */
        }
        .exercise-section h2 {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 600; /* font-semibold */
            margin-bottom: 1rem; /* mb-4 */
        }
        .question-item {
            margin-bottom: 0.5rem; /* mb-2 */
            display: flex;
            flex-wrap: wrap;
            align-items: baseline;
            gap: 0.5rem; /* gap-2 */
        }
        .question-item p {
            font-size: 1rem; /* text-base */
        }
        select, input[type="text"] {
            padding: 0.5rem 0.75rem; /* p-2 px-3 */
            border: 1px solid #d1d5db; /* border-gray-300 */
            border-radius: 0.375rem; /* rounded-md */
            font-size: 1rem; /* text-base */
            background-color: #ffffff;
            transition: border-color 0.2s, box-shadow 0.2s;
            flex-grow: 1; /* Allow inputs to grow */
            min-width: 150px;
        }
        select:focus, input[type="text"]:focus {
            outline: none;
            border-color: #4f46e5; /* indigo-500 */
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.5); /* ring-indigo-500 */
        }
        .feedback {
            padding: 0.5rem 0.75rem; /* padding: 0.5rem 0.75rem; */
            margin-top: 0.5rem; /* margin-top: 0.5rem; */
            border-radius: 0.375rem; /* rounded-md */
            font-size: 0.875rem; /* text-sm */
            font-weight: 600;
            text-align: right;
            display: inline-block;
            min-width: 80px;
            text-align: center;
        }
        .feedback.correct {
            background-color: #D1FAE5; /* green-100 */
            border: 1px solid #34D399; /* green-400 */
            color: #065F46; /* green-700 */
        }
        .feedback.incorrect {
            background-color: #FEE2E2; /* red-100 */
            border: 1px solid #F87171; /* red-400 */
            color: #991B1B; /* red-700 */
        }
        .show-answer {
            background-color: #e0f2fe; /* blue-100 */
            border-color: #60a5fa; /* blue-400 */
        }
        .button {
            padding: 0.625rem 1.25rem; /* px-5 py-2 */
            border-radius: 0.5rem; /* rounded-lg */
            font-weight: 600; /* font-semibold */
            cursor: pointer;
            transition: background-color 0.2s, transform 0.2s ease-in-out;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06); /* shadow-md */
        }
        .button-primary {
            background-color: #4f46e5; /* indigo-600 */
            color: #ffffff; /* text-white */
        }
        .button-primary:hover {
            background-color: #4338ca; /* indigo-700 */
            transform: scale(1.05);
        }
        .button-secondary {
            background-color: #6b7280; /* gray-500 */
            color: #ffffff; /* text-white */
        }
        .button-secondary:hover {
            background-color: #4b5563; /* gray-600 */
            transform: scale(1.05);
        }
        .exercise-footer {
            display: flex;
            justify-content: flex-end;
            margin-top: 1.5rem; /* mt-6 */
            gap: 0.5rem; /* space-x-2 */
            padding-top: 1rem;
            border-top: 1px dashed #e5e7eb; /* border-t border-gray-200 */
        }
        .exercise-feedback {
            margin-top: 1rem; /* mt-4 */
            font-size: 0.875rem; /* text-sm */
            color: #4b5563; /* text-gray-600 */
            text-align: right;
            font-weight: 600;
        }
    </style>
</head>
<body class="min-h-screen bg-gray-100 p-4 font-sans text-gray-800">
    <div class="max-w-4xl mx-auto bg-white p-6 md:p-8 rounded-xl shadow-lg">
        <h1 class="text-3xl md:text-4xl font-bold text-center text-indigo-700 mb-8">Mindset for IELTS 1 - Unit 3 Grammar & Vocabulary</h1>

        <section id="exercise1" class="mb-10 p-6 bg-indigo-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-indigo-600 mb-4">Unit 3: Exercise 1</h2>
            <p class="mb-4 text-base">Complete the sentences. Use the words in the box.</p>
            <p class="text-base">This person …</p>
            <div class="question-item">
                <p>looks after people who are ill or hurt: <select id="ex1_q1" class="ex1-select"></select></p>
                <div class="feedback" id="feedback_ex1_q1"></div>
            </div>
            <div class="question-item">
                <p>designs or builds machines, equipment or roads, etc.: <select id="ex1_q2" class="ex1-select"></select></p>
                <div class="feedback" id="feedback_ex1_q2"></div>
            </div>
            <div class="question-item">
                <p>cooks food in a restaurant: <select id="ex1_q3" class="ex1-select"></select></p>
                <div class="feedback" id="feedback_ex1_q3"></div>
            </div>
            <div class="question-item">
                <p>protects his or her country: <select id="ex1_q4" class="ex1-select"></select></p>
                <div class="feedback" id="feedback_ex1_q4"></div>
            </div>
            <div class="question-item">
                <p>keeps information about money that a company or person receives, pays or owes: <select id="ex1_q5" class="ex1-select"></select></p>
                <div class="feedback" id="feedback_ex1_q5"></div>
            </div>
            <div class="question-item">
                <p>gives people and businesses advice about the law: <select id="ex1_q6" class="ex1-select"></select></p>
                <div class="feedback" id="feedback_ex1_q6"></div>
            </div>
            <div class="question-item">
                <p>works in a school or college: <select id="ex1_q7" class="ex1-select"></select></p>
                <div class="feedback" id="feedback_ex1_q7"></div>
            </div>
            <div class="question-item">
                <p>produces computer programs: <select id="ex1_q8" class="ex1-select"></select></p>
                <div class="feedback" id="feedback_ex1_q8"></div>
            </div>
            <div class="question-item">
                <p>looks after sick animals: <select id="ex1_q9" class="ex1-select"></select></p>
                <div class="feedback" id="feedback_ex1_q9"></div>
            </div>
            <div class="question-item">
                <p>is responsible for a team of people or a project: <select id="ex1_q10" class="ex1-select"></select></p>
                <div class="feedback" id="feedback_ex1_q10"></div>
            </div>
            <div class="exercise-footer">
                <button class="button button-primary check-exercise-btn" data-exercise-id="1">Check Answer</button>
                <button class="button button-secondary show-exercise-btn" data-exercise-id="1">Show Answer</button>
                <button class="button button-secondary reset-exercise-btn" data-exercise-id="1">Reset</button>
            </div>
            <div id="feedback-ex1" class="exercise-feedback"></div>
        </section>

        <section id="exercise2" class="mb-10 p-6 bg-blue-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4">Unit 3: Exercise 2</h2>
            <p class="mb-4 text-base">Complete the text. Use the words in the box.</p>
            <div class="question-item">
                <p>I never did anything interesting in my old job. It was really <select id="ex2_q1" class="ex2-select"></select>.</p>
                <div class="feedback" id="feedback_ex2_q1"></div>
            </div>
            <div class="question-item">
                <p>I was very <select id="ex2_q2" class="ex2-select"></select> to hear about Maria’s new job. It sounds fascinating.</p>
                <div class="feedback" id="feedback_ex2_q2"></div>
            </div>
            <div class="question-item">
                <p>My sister’s really <select id="ex2_q3" class="ex2-select"></select> about her new project at work. She can’t wait to start!</p>
                <div class="feedback" id="feedback_ex2_q3"></div>
            </div>
            <div class="question-item">
                <p>It’s quite <select id="ex2_q4" class="ex2-select"></select> that so many young people are looking for jobs after they leave university.</p>
                <div class="feedback" id="feedback_ex2_q4"></div>
            </div>
            <div class="question-item">
                <p>I was <select id="ex2_q5" class="ex2-select"></select> when they didn't invite me for a job interview, but I'm sure I'll find a new job soon.</p>
                <div class="feedback" id="feedback_ex2_q5"></div>
            </div>
            <div class="question-item">
                <p>James works as an engineer building very tall buildings. His work looks absolutely <select id="ex2_q6" class="ex2-select"></select>!</p>
                <div class="feedback" id="feedback_ex2_q6"></div>
            </div>
            <div class="question-item">
                <p>I was really <select id="ex2_q7" class="ex2-select"></select> when he cancelled the meeting and he didn’t even tell me.</p>
                <div class="feedback" id="feedback_ex2_q7"></div>
            </div>
            <div class="question-item">
                <p>They treat their workers really badly. I think it’s <select id="ex2_q8" class="ex2-select"></select>.</p>
                <div class="feedback" id="feedback_ex2_q8"></div>
            </div>
            <div class="question-item">
                <p>I was <select id="ex2_q9" class="ex2-select"></select> when they offered me the job. I didn't think that I'd done very well in the interview.</p>
                <div class="feedback" id="feedback_ex2_q9"></div>
            </div>
            <div class="question-item">
                <p>I had to work late today and now I’m absolutely <select id="ex2_q10" class="ex2-select"></select>.</p>
                <div class="feedback" id="feedback_ex2_q10"></div>
            </div>
            <div class="exercise-footer">
                <button class="button button-primary check-exercise-btn" data-exercise-id="2">Check Answer</button>
                <button class="button button-secondary show-exercise-btn" data-exercise-id="2">Show Answer</button>
                <button class="button button-secondary reset-exercise-btn" data-exercise-id="2">Reset</button>
            </div>
            <div id="feedback-ex2" class="exercise-feedback"></div>
        </section>

        <section id="exercise3" class="mb-10 p-6 bg-green-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-green-600 mb-4">Unit 3: Exercise 3</h2>
            <p class="mb-4 text-base">Choose the correct prepositions to complete the text.</p>
            <div class="question-item">
                <p class="exercise-sentence">After I left school, I decided to go <select id="ex3_q1" class="ex3-select"></select> university.</p>
                <div class="feedback" id="feedback_ex3_q1"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">I studied <select id="ex3_q2" class="ex3-select"></select> university for three years.</p>
                <div class="feedback" id="feedback_ex3_q2"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">I did a degree <select id="ex3_q3" class="ex3-select"></select> marketing.</p>
                <div class="feedback" id="feedback_ex3_q3"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">It was very interesting. I learnt all <select id="ex3_q4" class="ex3-select"></select> sales and marketing.</p>
                <div class="feedback" id="feedback_ex3_q4"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">When I graduated <select id="ex3_q5" class="ex3-select"></select> university, I needed to get a job.</p>
                <div class="feedback" id="feedback_ex3_q5"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">I wanted to work <select id="ex3_q6" class="ex3-select"></select> a large international company.</p>
                <div class="feedback" id="feedback_ex3_q6"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">I applied <select id="ex3_q7" class="ex3-select"></select> lots of jobs, but it was difficult because I didn’t have any experience.</p>
                <div class="feedback" id="feedback_ex3_q7"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">In the end, I got a job <select id="ex3_q8" class="ex3-select"></select> a marketing assistant.</p>
                <div class="feedback" id="feedback_ex3_q8"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">It was a bit boring, but I was very good <select id="ex3_q9" class="ex3-select"></select> my job.</p>
                <div class="feedback" id="feedback_ex3_q9"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">After a few years, I was offered a job as a marketing manager and was given an increase <select id="ex3_q10" class="ex3-select"></select> salary.</p>
                <div class="feedback" id="feedback_ex3_q10"></div>
            </div>
            <div class="exercise-footer">
                <button class="button button-primary check-exercise-btn" data-exercise-id="3">Check Answer</button>
                <button class="button button-secondary show-exercise-btn" data-exercise-id="3">Show Answer</button>
                <button class="button button-secondary reset-exercise-btn" data-exercise-id="3">Reset</button>
            </div>
            <div id="feedback-ex3" class="exercise-feedback"></div>
        </section>

        <section id="exercise4" class="mb-10 p-6 bg-purple-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-purple-600 mb-4">Unit 3: Exercise 4</h2>
            <p class="mb-4 text-base">Match the explanations with the statements.</p>
            <div class="question-item">
                <p>I’m grateful for your help. <select id="ex4_q1" class="ex4-select"></select></p>
                <div class="feedback" id="feedback_ex4_q1"></div>
            </div>
            <div class="question-item">
                <p>I’m nervous about my exam. <select id="ex4_q2" class="ex4-select"></select></p>
                <div class="feedback" id="feedback_ex4_q2"></div>
            </div>
            <div class="question-item">
                <p>I’m pleased with my results. <select id="ex4_q3" class="ex4-select"></select></p>
                <div class="feedback" id="feedback_ex4_q3"></div>
            </div>
            <div class="question-item">
                <p>I’m furious with my sister. <select id="ex4_q4" class="ex4-select"></select></p>
                <div class="feedback" id="feedback_ex4_q4"></div>
            </div>
            <div class="question-item">
                <p>I’m relieved that everything’s OK. <select id="ex4_q5" class="ex4-select"></select></p>
                <div class="feedback" id="feedback_ex4_q5"></div>
            </div>
            <div class="question-item">
                <p>I’m impressed by your work. <select id="ex4_q6" class="ex4-select"></select></p>
                <div class="feedback" id="feedback_ex4_q6"></div>
            </div>
            <div class="question-item">
                <p>I’m annoyed about the changes. <select id="ex4_q7" class="ex4-select"></select></p>
                <div class="feedback" id="feedback_ex4_q7"></div>
            </div>
            <div class="question-item">
                <p>I’m upset about what you said. <select id="ex4_q8" class="ex4-select"></select></p>
                <div class="feedback" id="feedback_ex4_q8"></div>
            </div>
            <div class="question-item">
                <p>I’m positive about the future. <select id="ex4_q9" class="ex4-select"></select></p>
                <div class="feedback" id="feedback_ex4_q9"></div>
            </div>
            <div class="question-item">
                <p>I’m scared of my boss. <select id="ex4_q10" class="ex4-select"></select></p>
                <div class="feedback" id="feedback_ex4_q10"></div>
            </div>
            <div class="exercise-footer">
                <button class="button button-primary check-exercise-btn" data-exercise-id="4">Check Answer</button>
                <button class="button button-secondary show-exercise-btn" data-exercise-id="4">Show Answer</button>
                <button class="button button-secondary reset-exercise-btn" data-exercise-id="4">Reset</button>
            </div>
            <div id="feedback-ex4" class="exercise-feedback"></div>
        </section>

        <section id="exercise5" class="mb-10 p-6 bg-yellow-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-yellow-700 mb-4">Unit 3: Exercise 5</h2>
            <p class="mb-4 text-base">Complete the text. Use the words in the box.</p>
            <div class="question-item">
                <p class="exercise-sentence">In my country, many very young children go to <select id="ex5_q1" class="ex5-select"></select>, but they don’t have to go.</p>
                <div class="feedback" id="feedback_ex5_q1"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">The first school you must go to is <select id="ex5_q2" class="ex5-select"></select>.</p>
                <div class="feedback" id="feedback_ex5_q2"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">This is for children aged five to eleven years old. Older children go to <select id="ex5_q3" class="ex5-select"></select>, where they have lots of homework and exams. Here, they study subjects like Geography, History and IT.</p>
                <div class="feedback" id="feedback_ex5_q3"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">Some children have <select id="ex5_q4" class="ex5-select"></select>, for example they might have extra English classes, which their parents pay for.</p>
                <div class="feedback" id="feedback_ex5_q4"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">Some people stop their education after secondary school, but many continue their education by going to <select id="ex5_q5" class="ex5-select"></select>. In my country, they usually study just a few subjects at college.</p>
                <div class="feedback" id="feedback_ex5_q5"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">You can study for a degree at <select id="ex5_q6" class="ex5-select"></select>.</p>
                <div class="feedback" id="feedback_ex5_q6"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">Many university courses include a <select id="ex5_q7" class="ex5-select"></select>, where students spend a few months in a place of work and learn some practical skills.</p>
                <div class="feedback" id="feedback_ex5_q7"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">After graduating from university, some students stay at a university to do a <select id="ex5_q8" class="ex5-select"></select>.</p>
                <div class="feedback" id="feedback_ex5_q8"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">Education doesn’t stop when you leave school or university. Many people go to <select id="ex5_q9" class="ex5-select"></select> which they attend after a full day at work.</p>
                <div class="feedback" id="feedback_ex5_q9"></div>
            </div>
            <div class="question-item">
                <p class="exercise-sentence">You can also learn a lot at work by going on <select id="ex5_q10" class="ex5-select"></select>. For example, you might learn how to use new computer software or how to communicate with customers.</p>
                <div class="feedback" id="feedback_ex5_q10"></div>
            </div>
            <div class="exercise-footer">
                <button class="button button-primary check-exercise-btn" data-exercise-id="5">Check Answer</button>
                <button class="button button-secondary show-exercise-btn" data-exercise-id="5">Show Answer</button>
                <button class="button button-secondary reset-exercise-btn" data-exercise-id="5">Reset</button>
            </div>
            <div id="feedback-ex5" class="exercise-feedback"></div>
        </section>

        <section id="exercise6" class="mb-10 p-6 bg-red-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-red-600 mb-4">Unit 3: Exercise 6</h2>
            <p class="mb-4 text-base">Match the present results (present simple) with the past events (present perfect).</p>

            <div class="space-y-3 text-base">
                <div class="question-item">
                    <p>1. I’ve finished university. <select id="ex6_q1" class="ex6-select"></select></p>
                    <div class="feedback" id="feedback_ex6_q1"></div>
                </div>
                <div class="question-item">
                    <p>2. Andy’s found a new job. <select id="ex6_q2" class="ex6-select"></select></p>
                    <div class="feedback" id="feedback_ex6_q2"></div>
                </div>
                <div class="question-item">
                    <p>3. I’ve lost my school bag. <select id="ex6_q3" class="ex6-select"></select></p>
                    <div class="feedback" id="feedback_ex6_q3"></div>
                </div>
                <div class="question-item">
                    <p>4. They’ve offered me a better job. <select id="ex6_q4" class="ex6-select"></select></p>
                    <div class="feedback" id="feedback_ex6_q4"></div>
                </div>
                <div class="question-item">
                    <p>5. I’ve done all my homework. <select id="ex6_q5" class="ex6-select"></select></p>
                    <div class="feedback" id="feedback_ex6_q5"></div>
                </div>
                <div class="question-item">
                    <p>6. My grandparents have retired. <select id="ex6_q6" class="ex6-select"></select></p>
                    <div class="feedback" id="feedback_ex6_q6"></div>
                </div>
                <div class="question-item">
                    <p>7. Daniel’s broken his arm. <select id="ex6_q7" class="ex6-select"></select></p>
                    <div class="feedback" id="feedback_ex6_q7"></div>
                </div>
                <div class="question-item">
                    <p>8. Helena’s left school. <select id="ex6_q8" class="ex6-select"></select></p>
                    <div class="feedback" id="feedback_ex6_q8"></div>
                </div>
            </div>
            <div class="exercise-footer">
                <button class="button button-primary check-exercise-btn" data-exercise-id="6">Check Answer</button>
                <button class="button button-secondary show-exercise-btn" data-exercise-id="6">Show Answer</button>
                <button class="button button-secondary reset-exercise-btn" data-exercise-id="6">Reset</button>
            </div>
            <div id="feedback-ex6" class="exercise-feedback"></div>
        </section>

        <section id="exercise7" class="mb-10 p-6 bg-teal-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-teal-600 mb-4">Unit 3: Exercise 7</h2>
            <p class="mb-4 text-base">Complete the sentences. Use the past participle of the irregular verbs in brackets.</p>
            <div class="question-item">
                <p>He wasn’t very good when he started, but he’s <input type="text" id="ex7_q1" class="ex7-input" placeholder="(become)"> a very good teacher in the last few years.</p>
                <div class="feedback" id="feedback_ex7_q1"></div>
            </div>
            <div class="question-item">
                <p>Have you <input type="text" id="ex7_q2" class="ex7-input" placeholder="(chose)"> a career yet? Do you know what you want to do when you leave school?</p>
                <div class="feedback" id="feedback_ex7_q2"></div>
            </div>
            <div class="question-item">
                <p>I studied History for five years at school, but now I’ve <input type="text" id="ex7_q3" class="ex7-input" placeholder="(forget)"> almost everything.</p>
                <div class="feedback" id="feedback_ex7_q3"></div>
            </div>
            <div class="question-item">
                <p>It’s been a very useful course and you’re a great teacher – you’ve <input type="text" id="ex7_q4" class="ex7-input" placeholder="(teach)"> me a lot.</p>
                <div class="feedback" id="feedback_ex7_q4"></div>
            </div>
            <div class="question-item">
                <p>I’ve <input type="text" id="ex7_q5" class="ex7-input" placeholder="(send)"> emails to lots of companies asking for a job, but nobody’s offered me one yet.</p>
                <div class="feedback" id="feedback_ex7_q5"></div>
            </div>
            <div class="question-item">
                <p>Have you <input type="text" id="ex7_q6" class="ex7-input" placeholder="(be)"> on any training courses this year?</p>
                <div class="feedback" id="feedback_ex7_q6"></div>
            </div>
            <div class="question-item">
                <p>I need to write a 10,000-word essay by the end of my course, but I’ve only <input type="text" id="ex7_q7" class="ex7-input" placeholder="(write)"> 2,500 words so far.</p>
                <div class="feedback" id="feedback_ex7_q7"></div>
            </div>
            <div class="question-item">
                <p>I studied Business at university, but I’ve <input type="text" id="ex7_q8" class="ex7-input" placeholder="(learn)"> more in my first month at work than in three years at university.</p>
                <div class="feedback" id="feedback_ex7_q8"></div>
            </div>
            <div class="question-item">
                <p>Sorry I haven’t finished the presentation yet. I haven’t <input type="text" id="ex7_q9" class="ex7-input" placeholder="(have)"> time.</p>
                <div class="feedback" id="feedback_ex7_q9"></div>
            </div>
            <div class="question-item">
                <p>OK, so now that I’ve <input type="text" id="ex7_q10" class="ex7-input" placeholder="(show)"> you what to do, it’s your turn.</p>
                <div class="feedback" id="feedback_ex7_q10"></div>
            </div>
            <div class="exercise-footer">
                <button class="button button-primary check-exercise-btn" data-exercise-id="7">Check Answer</button>
                <button class="button button-secondary show-exercise-btn" data-exercise-id="7">Show Answer</button>
                <button class="button button-secondary reset-exercise-btn" data-exercise-id="7">Reset</button>
            </div>
            <div id="feedback-ex7" class="exercise-feedback"></div>
        </section>

        <section id="exercise8" class="mb-10 p-6 bg-orange-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-orange-600 mb-4">Unit 3: Exercise 8</h2>
            <p class="mb-4 text-base">Choose the correct word ($already$, $yet$, or $just$).</p>
            <div class="question-item">
                <p>A: Hey, I’ve <select id="ex8_q1" class="ex8-select"></select> remembered.</p>
                <div class="feedback" id="feedback_ex8_q1"></div>
            </div>
            <div class="question-item">
                <p>We need to hand in our essays tomorrow. Have you started writing yours <select id="ex8_q2" class="ex8-select"></select>?</p>
                <div class="feedback" id="feedback_ex8_q2"></div>
            </div>
            <div class="question-item">
                <p>B: Actually, I’ve <select id="ex8_q3" class="ex8-select"></select> started. I started planning it half an hour ago.</p>
                <div class="feedback" id="feedback_ex8_q3"></div>
            </div>
            <div class="question-item">
                <p>But I haven’t written anything <select id="ex8_q4" class="ex8-select"></select>. I’m still thinking about what to write. What about you?</p>
                <div class="feedback" id="feedback_ex8_q4"></div>
            </div>
            <div class="question-item">
                <p>A: I started working on it at the weekend. I’ve <select id="ex8_q5" class="ex8-select"></select> written about half of it, but there’s still a lot of work to do.</p>
                <div class="feedback" id="feedback_ex8_q5"></div>
            </div>
            <div class="question-item">
                <p>B: Oh, that’s not so bad. And have you planned everything <select id="ex8_q6" class="ex8-select"></select>?</p>
                <div class="feedback" id="feedback_ex8_q6"></div>
            </div>
            <div class="question-item">
                <p>A: No, I haven’t planned the end <select id="ex8_q7" class="ex8-select"></select>. I mean, the first half’s good, but I don’t know what to write for the ending. What about you?</p>
                <div class="feedback" id="feedback_ex8_q7"></div>
            </div>
            <div class="question-item">
                <p>B: I’ve <select id="ex8_q8" class="ex8-select"></select> told you! I started half an hour ago!</p>
                <div class="feedback" id="feedback_ex8_q8"></div>
            </div>
            <div class="question-item">
                <p>A: Oh, yes, sorry. And what about David? Has he started <select id="ex8_q9" class="ex8-select"></select>?</p>
                <div class="feedback" id="feedback_ex8_q9"></div>
            </div>
            <div class="question-item">
                <p>B: Started? He’s <select id="ex8_q10" class="ex8-select"></select> finished! He wrote the whole essay last weekend!</p>
                <div class="feedback" id="feedback_ex8_q10"></div>
            </div>
            <div class="exercise-footer">
                <button class="button button-primary check-exercise-btn" data-exercise-id="8">Check Answer</button>
                <button class="button button-secondary show-exercise-btn" data-exercise-id="8">Show Answer</button>
                <button class="button button-secondary reset-exercise-btn" data-exercise-id="8">Reset</button>
            </div>
            <div id="feedback-ex8" class="exercise-feedback"></div>
        </section>

        <section id="exercise9" class="mb-10 p-6 bg-pink-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-pink-600 mb-4">Unit 3: Exercise 9</h2>
            <p class="mb-4 text-base">Complete the sentences. Use the words in brackets with the present perfect. Use contractions where possible (e.g. haven’t). The first one has been done for you.</p>
            <div class="question-item">
                <p>My sister’s just started university – it’s her first week this week. (my sister / just / start)</p>
                <p>I’m really pleased. <input type="text" id="ex9_q1" class="ex9-input" placeholder="(I / pass)"></p>
                <div class="feedback" id="feedback_ex9_q1"></div>
            </div>
            <div class="question-item">
                <p>We finished our project over a month ago, but our teacher <input type="text" id="ex9_q2" class="ex9-input" placeholder="(not / check / it / yet)"></p>
                <div class="feedback" id="feedback_ex9_q2"></div>
            </div>
            <div class="question-item">
                <p><input type="text" id="ex9_q3" class="ex9-input" placeholder="(I / already / decide)"> to go to evening classes to learn how to write computer programs.</p>
                <div class="feedback" id="feedback_ex9_q3"></div>
            </div>
            <div class="question-item">
                <p>Don’t worry. <input type="text" id="ex9_q4" class="ex9-input" placeholder="(I / not / tell)"> anybody your exam results.</p>
                <div class="feedback" id="feedback_ex9_q4"></div>
            </div>
            <div class="question-item">
                <p>I think the job interview went well, but <input type="text" id="ex9_q5" class="ex9-input" placeholder="(they / not / contact / me / yet)">, so I don’t know if I’ve got the job or not.</p>
                <div class="feedback" id="feedback_ex9_q5"></div>
            </div>
            <div class="question-item">
                <p>Why are we doing this training course again? <input type="text" id="ex9_q6" class="ex9-input" placeholder="(we / already / do)"> it three times!</p>
                <div class="feedback" id="feedback_ex9_q6"></div>
            </div>
            <div class="question-item">
                <p>I’m really worried. I think <input type="text" id="ex9_q7" class="ex9-input" placeholder="(I / fail)"> my end-of-course test.</p>
                <div class="feedback" id="feedback_ex9_q7"></div>
            </div>
            <div class="exercise-footer">
                <button class="button button-primary check-exercise-btn" data-exercise-id="9">Check Answer</button>
                <button class="button button-secondary show-exercise-btn" data-exercise-id="9">Show Answer</button>
                <button class="button button-secondary reset-exercise-btn" data-exercise-id="9">Reset</button>
            </div>
            <div id="feedback-ex9" class="exercise-feedback"></div>
        </section>

        <section id="exercise10" class="mb-10 p-6 bg-gray-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-gray-700 mb-4">Unit 3: Exercise 10</h2>
            <p class="mb-4 text-base">Correct the questions. Use the present perfect. Use contractions where possible (e.g. hasn’t).</p>
            <div class="question-item">
                <p>You take all your exams yet? I’ve already finished mine.</p>
                <p>Corrected: <input type="text" id="ex10_q1" class="ex10-input" placeholder=""></p>
                <div class="feedback" id="feedback_ex10_q1"></div>
            </div>
            <div class="question-item">
                <p>Where Lisa go? She was here a second ago.</p>
                <p>Corrected: <input type="text" id="ex10_q2" class="ex10-input" placeholder=""></p>
                <div class="feedback" id="feedback_ex10_q2"></div>
            </div>
            <div class="question-item">
                <p>Anybody see my bag? I can’t find it.</p>
                <p>Corrected: <input type="text" id="ex10_q3" class="ex10-input" placeholder=""></p>
                <div class="feedback" id="feedback_ex10_q3"></div>
            </div>
            <div class="question-item">
                <p>Why you not finish your report? I asked you to hand it in today.</p>
                <p>Corrected: <input type="text" id="ex10_q4" class="ex10-input" placeholder=""></p>
                <div class="feedback" id="feedback_ex10_q4"></div>
            </div>
            <div class="question-item">
                <p>You hear the news? They’ve offered me a promotion!</p>
                <p>Corrected: <input type="text" id="ex10_q5" class="ex10-input" placeholder=""></p>
                <div class="feedback" id="feedback_ex10_q5"></div>
            </div>
            <div class="question-item">
                <p>What you do to your hair? It looks terrible!</p>
                <p>Corrected: <input type="text" id="ex10_q6" class="ex10-input" placeholder=""></p>
                <div class="feedback" id="feedback_ex10_q6"></div>
            </div>
            <div class="exercise-footer">
                <button class="button button-primary check-exercise-btn" data-exercise-id="10">Check Answer</button>
                <button class="button button-secondary show-exercise-btn" data-exercise-id="10">Show Answer</button>
                <button class="button button-secondary reset-exercise-btn" data-exercise-id="10">Reset</button>
            </div>
            <div id="feedback-ex10" class="exercise-feedback"></div>
        </section>
    </div>

    <script>
        // Function to normalize text for comparison
        function normalizeText(text) {
            if (typeof text !== 'string') {
                return '';
            }
            return text
                .toLowerCase()
                .trim()
                .replace(/[‘’]/g, "'") // curly apostrophes → straight
                .replace(/[“”]/g, '"') // curly quotes → straight quotes
                .replace(/–/g, '-'); // en dash to hyphen-minus
        }

        // Object containing all the correct answers for each exercise and question
        const exerciseData = {
            ex1: {
                options: [
                    "a chef", "a doctor", "a lawyer", "a manager", "a programmer",
                    "a soldier", "a teacher", "a vet", "an accountant", "an engineer"
                ].map(text => ({ value: normalizeText(text), display: text })),
                answers: { // Answers are nested under 'answers'
                    q1: normalizeText("a doctor"),
                    q2: normalizeText("an engineer"),
                    q3: normalizeText("a chef"),
                    q4: normalizeText("a soldier"),
                    q5: normalizeText("an accountant"),
                    q6: normalizeText("a lawyer"),
                    q7: normalizeText("a teacher"),
                    q8: normalizeText("a programmer"),
                    q9: normalizeText("a vet"),
                    q10: normalizeText("a manager")
                }
            },
            ex2: {
                options: [
                    "Annoyed", "boring", "disappointed", "disgusting", "excited",
                    "exhausted", "Interested", "surprised", "terrifying", "worrying"
                ].map(text => ({ value: normalizeText(text), display: text })),
                answers: {
                    q1: normalizeText("boring"),
                    q2: normalizeText("Interested"),
                    q3: normalizeText("excited"),
                    q4: normalizeText("worrying"),
                    q5: normalizeText("disappointed"),
                    q6: normalizeText("terrifying"),
                    q7: normalizeText("Annoyed"),
                    q8: normalizeText("disgusting"),
                    q9: normalizeText("surprised"),
                    q10: normalizeText("exhausted")
                }
            },
            ex3: {
                options: { // Options for ex3 are arrays, need to map each sub-array
                    q1: ["to", "at", "on"].map(text => ({ value: normalizeText(text), display: text })),
                    q2: ["at", "by", "on"].map(text => ({ value: normalizeText(text), display: text })),
                    q3: ["in", "for", "of"].map(text => ({ value: normalizeText(text), display: text })),
                    q4: ["about", "on", "over"].map(text => ({ value: normalizeText(text), display: text })),
                    q5: ["from", "for", "on"].map(text => ({ value: normalizeText(text), display: text })),
                    q6: ["for", "as", "by"].map(text => ({ value: normalizeText(text), display: text })),
                    q7: ["for", "on", "with"].map(text => ({ value: normalizeText(text), display: text })),
                    q8: ["as", "at", "for"].map(text => ({ value: normalizeText(text), display: text })),
                    q9: ["at", "from", "to"].map(text => ({ value: normalizeText(text), display: text })),
                    q10: ["in", "as", "of"].map(text => ({ value: normalizeText(text), display: text }))
                },
                answers: {
                    q1: normalizeText("to"),
                    q2: normalizeText("at"),
                    q3: normalizeText("in"),
                    q4: normalizeText("about"),
                    q5: normalizeText("from"),
                    q6: normalizeText("for"),
                    q7: normalizeText("for"),
                    q8: normalizeText("as"),
                    q9: normalizeText("at"),
                    q10: normalizeText("in")
                }
            },
            ex4: {
                options: [
                    "I want to thank you for it.",
                    "I’m worried about it.",
                    "I’m happy about them.",
                    "I’m extremely angry with her.",
                    "I was worried, but now I’m not.",
                    "I think it’s good – you’ve done a great job.",
                    "I’m angry about them because they make my life difficult.",
                    "It makes me unhappy.",
                    "I'm confident. I think it'll be great.",
                    "I'm frightened of him/her."
                ].map(text => ({ value: normalizeText(text), display: text })),
                answers: { // Answers are nested under 'answers'
                    q1: normalizeText("I want to thank you for it."),
                    q2: normalizeText("I’m worried about it."),
                    q3: normalizeText("I’m happy about them."),
                    q4: normalizeText("I’m extremely angry with her."),
                    q5: normalizeText("I was worried, but now I’m not."),
                    q6: normalizeText("I think it’s good – you’ve done a great job."),
                    q7: normalizeText("I’m angry about them because they make my life difficult."),
                    q8: normalizeText("It makes me unhappy."),
                    q9: normalizeText("I'm confident. I think it'll be great."),
                    q10: normalizeText("I'm frightened of him/her.")
                }
            },
            ex5: {
                options: [
                    "College", "evening classes", "nursery school", "postgraduate course",
                    "primary school", "private lessons", "secondary school", "training courses",
                    "university", "work placement"
                ].map(text => ({ value: normalizeText(text), display: text })),
                answers: {
                    q1: normalizeText("nursery school"),
                    q2: normalizeText("primary school"),
                    q3: normalizeText("secondary school"),
                    q4: normalizeText("private lessons"),
                    q5: normalizeText("College"),
                    q6: normalizeText("university"),
                    q7: normalizeText("work placement"),
                    q8: normalizeText("postgraduate course"),
                    q9: normalizeText("evening classes"),
                    q10: normalizeText("training courses")
                }
            },
            ex6: {
                options: [ // These are the present results, now options for the dropdown
                    "I have a degree.",
                    "He now works for a bank.",
                    "I can’t find it anywhere.",
                    "Do you think I should accept it?",
                    "I can relax tonight.",
                    "They don’t go to work any more.",
                    "He can’t go to school this week.",
                    "Now she needs to find a job."
                ].map(text => ({ value: normalizeText(text), display: text })),
                answers: { // These map question number to the correct option
                    q1: normalizeText("I have a degree."),
                    q2: normalizeText("He now works for a bank."),
                    q3: normalizeText("I can’t find it anywhere."),
                    q4: normalizeText("Do you think I should accept it?"),
                    q5: normalizeText("I can relax tonight."),
                    q6: normalizeText("They don’t go to work any more."),
                    q7: normalizeText("He can’t go to school this week."),
                    q8: normalizeText("Now she needs to find a job.")
                }
            },
            ex7: {
                answers: {
                    q1: normalizeText("become"),
                    q2: normalizeText("chosen"),
                    q3: normalizeText("forgotten"),
                    q4: normalizeText("taught"),
                    q5: normalizeText("sent"),
                    q6: normalizeText("been"),
                    q7: normalizeText("written"),
                    q8: normalizeText("learnt"), // or learned
                    q9: normalizeText("had"),
                    q10: normalizeText("shown")
                }
            },
            ex8: {
                options: ["already", "just", "yet"].map(text => ({ value: text, display: text })), // Keep raw values for comparison
                answers: { // Answers are NOT normalized here, to match raw HTML radio values
                    q1: "just",
                    q2: "yet",
                    q3: "just",
                    q4: "yet",
                    q5: "already",
                    q6: "yet",
                    q7: "yet",
                    q8: "just",
                    q9: "yet",
                    q10: "already"
                }
            },
            ex9: {
                answers: {
                    q1: normalizeText("I've passed"),
                    q2: normalizeText("hasn't checked it yet"),
                    q3: normalizeText("I've already decided"),
                    q4: normalizeText("I haven't told"),
                    q5: normalizeText("they haven't contacted me yet"),
                    q6: normalizeText("we've already done"),
                    q7: normalizeText("I've failed")
                }
            },
            ex10: {
                answers: {
                    q1: normalizeText("Have you taken all your exams yet?"),
                    q2: normalizeText("Where has Lisa gone?"),
                    q3: normalizeText("Has anybody seen my bag?"),
                    q4: normalizeText("Why haven't you finished your report?"),
                    q5: normalizeText("Have you heard the news?"),
                    q6: normalizeText("What have you done to your hair?")
                }
            }
        };

        // Helper function to display feedback (Correct! / Incorrect.)
        function showFeedback(elementId, isCorrect) {
            const feedbackElement = document.getElementById(elementId);
            if (feedbackElement) {
                feedbackElement.classList.remove('correct', 'incorrect');
                if (isCorrect) {
                    feedbackElement.classList.add('correct');
                    feedbackElement.textContent = 'Correct!';
                } else {
                    feedbackElement.classList.add('incorrect');
                    feedbackElement.textContent = 'Incorrect.';
                }
            } else {
                console.error(`Feedback element with ID ${elementId} not found.`);
            }
        }

        // Function to populate dropdowns
        function populateDropdown(selectElement, options, includeBlank = true) {
            selectElement.innerHTML = '';
            if (includeBlank) {
                const blankOption = document.createElement('option');
                blankOption.value = '';
                blankOption.textContent = '--Select--';
                selectElement.appendChild(blankOption);
            }
            if (Array.isArray(options)) {
                options.forEach(optionData => { // options now contains { value, display }
                    const option = document.createElement('option');
                    option.value = optionData.value;
                    option.textContent = optionData.display;
                    selectElement.appendChild(option);
                });
            }
        }

        // Main check/show/reset logic for individual exercises
        function checkExercise(exerciseId) {
            let correctCount = 0;
            let totalQuestions = 0;
            const exerciseSection = document.getElementById(`exercise${exerciseId}`);
            if (!exerciseSection) return;

            if ([1, 2, 4, 5, 6, 8].includes(exerciseId)) { // Dropdowns with single option sets
                const questionItems = exerciseSection.querySelectorAll('.question-item');
                questionItems.forEach(item => {
                    const select = item.querySelector(`select[id^="ex${exerciseId}_q"]`);
                    if (select) {
                        totalQuestions++;
                        const questionId = select.id;
                        const userAnswer = normalizeText(select.value);
                        const questionKey = questionId.split('_')[1];
                        const correctAnswer = normalizeText(exerciseData[`ex${exerciseId}`].answers[questionKey]);
                        showFeedback(`feedback_${questionId}`, userAnswer === correctAnswer);

                        select.classList.remove('correct-answer', 'incorrect-answer', 'show-answer');
                        if (userAnswer === correctAnswer) {
                            correctCount++;
                            select.classList.add('correct-answer');
                        } else if (userAnswer !== '') { // Only mark incorrect if an answer was selected
                            select.classList.add('incorrect-answer');
                        }
                    }
                });
            } else if (exerciseId === 3) { // Exercise 3 has varying options per question
                const questionItems = exerciseSection.querySelectorAll('.question-item');
                questionItems.forEach(item => {
                    const select = item.querySelector(`select[id^="ex${exerciseId}_q"]`);
                    if (select) {
                        totalQuestions++;
                        const questionId = select.id;
                        const questionKey = questionId.split('_')[1];
                        const userAnswer = normalizeText(select.value);
                        const correctAnswer = normalizeText(exerciseData[`ex${exerciseId}`].answers[questionKey]);
                        showFeedback(`feedback_${questionId}`, userAnswer === correctAnswer);

                        select.classList.remove('correct-answer', 'incorrect-answer', 'show-answer');
                        if (userAnswer === correctAnswer) {
                            correctCount++;
                            select.classList.add('correct-answer');
                        } else if (userAnswer !== '') {
                            select.classList.add('incorrect-answer');
                        }
                    }
                });

            } else if ([7, 9, 10].includes(exerciseId)) { // Text Inputs
                const questionItems = exerciseSection.querySelectorAll('.question-item');
                questionItems.forEach(item => {
                    const input = item.querySelector(`input[id^="ex${exerciseId}_q"]`);
                    if (input) {
                        totalQuestions++;
                        const questionId = input.id;
                        const userAnswer = normalizeText(input.value);
                        const questionKey = questionId.split('_')[1];
                        const correctAnswer = normalizeText(exerciseData[`ex${exerciseId}`].answers[questionKey]);
                        showFeedback(`feedback_${questionId}`, userAnswer === correctAnswer);

                        input.classList.remove('correct-answer', 'incorrect-answer', 'show-answer');
                        if (userAnswer === correctAnswer) {
                            correctCount++;
                            input.classList.add('correct-answer');
                        } else if (userAnswer !== '') {
                            input.classList.add('incorrect-answer');
                        }
                    }
                });
            }

            const feedbackElement = document.getElementById(`feedback-ex${exerciseId}`);
            if (feedbackElement) {
                feedbackElement.textContent = `You got ${correctCount} out of ${totalQuestions} questions correct!`;
                feedbackElement.classList.remove('hidden');
            }
        }

        function showExerciseAnswers(exerciseId) {
            const exerciseSection = document.getElementById(`exercise${exerciseId}`);
            if (!exerciseSection) return;

            // Clear overall exercise feedback first
            const overallFeedbackElement = document.getElementById(`feedback-ex${exerciseId}`);
            if (overallFeedbackElement) {
                overallFeedbackElement.textContent = '';
                overallFeedbackElement.classList.add('hidden');
            }

            if ([1, 2, 4, 5, 6, 8].includes(exerciseId)) { // Dropdowns
                const questionItems = exerciseSection.querySelectorAll('.question-item');
                questionItems.forEach(item => {
                    const select = item.querySelector(`select[id^="ex${exerciseId}_q"]`);
                    if (select) {
                        const questionId = select.id;
                        const questionKey = questionId.split('_')[1];
                        select.value = exerciseData[`ex${exerciseId}`].answers[questionKey]; // Set value to normalized answer
                        select.classList.remove('correct-answer', 'incorrect-answer');
                        select.classList.add('show-answer');
                        // Clear individual feedback
                        const feedbackElement = document.getElementById(`feedback_${questionId}`);
                        if (feedbackElement) {
                            feedbackElement.textContent = '';
                            feedbackElement.classList.remove('correct', 'incorrect');
                        }
                    }
                });
            } else if (exerciseId === 3) { // Exercise 3 has varying options per question
                 const questionItems = exerciseSection.querySelectorAll('.question-item');
                questionItems.forEach(item => {
                    const select = item.querySelector(`select[id^="ex${exerciseId}_q"]`);
                    if (select) {
                        const questionId = select.id;
                        const questionKey = questionId.split('_')[1];
                        select.value = exerciseData[`ex${exerciseId}`].answers[questionKey]; // Set value to normalized answer
                        select.classList.remove('correct-answer', 'incorrect-answer');
                        select.classList.add('show-answer');
                        // Clear individual feedback
                        const feedbackElement = document.getElementById(`feedback_${questionId}`);
                        if (feedbackElement) {
                            feedbackElement.textContent = '';
                            feedbackElement.classList.remove('correct', 'incorrect');
                        }
                    }
                });
            }
            else if ([7, 9, 10].includes(exerciseId)) { // Text Inputs
                const questionItems = exerciseSection.querySelectorAll('.question-item');
                questionItems.forEach(item => {
                    const input = item.querySelector(`input[id^="ex${exerciseId}_q"]`);
                    if (input) {
                        const questionId = input.id;
                        const questionKey = questionId.split('_')[1];
                        input.value = exerciseData[`ex${exerciseId}`].answers[questionKey];
                        input.classList.remove('correct-answer', 'incorrect-answer');
                        input.classList.add('show-answer');
                        // Clear individual feedback
                        const feedbackElement = document.getElementById(`feedback_${questionId}`);
                        if (feedbackElement) {
                            feedbackElement.textContent = '';
                            feedbackElement.classList.remove('correct', 'incorrect');
                        }
                    }
                });
            }
        }

        function resetExercise(exerciseId) {
            const exerciseSection = document.getElementById(`exercise${exerciseId}`);
            if (!exerciseSection) return;

            // Reset inputs and selects
            exerciseSection.querySelectorAll('input[type="text"], select').forEach(element => {
                element.value = '';
                element.classList.remove('correct-answer', 'incorrect-answer', 'show-answer');
            });

            // Clear feedback messages
            exerciseSection.querySelectorAll('.feedback').forEach(feedbackEl => {
                feedbackEl.textContent = '';
                feedbackEl.classList.remove('correct', 'incorrect');
            });

            const feedbackElement = document.getElementById(`feedback-ex${exerciseId}`);
            if (feedbackElement) feedbackElement.classList.add('hidden');
        }

        // Event listeners for individual exercise buttons
        document.addEventListener('DOMContentLoaded', () => {
            // Populate dropdowns for Exercise 1, 2, 4, 5, 6, 8
            document.querySelectorAll('#exercise1 .ex1-select').forEach(select => populateDropdown(select, exerciseData.ex1.options || []));
            document.querySelectorAll('#exercise2 .ex2-select').forEach(select => populateDropdown(select, exerciseData.ex2.options || []));
            document.querySelectorAll('#exercise4 .ex4-select').forEach(select => populateDropdown(select, exerciseData.ex4.options || []));
            document.querySelectorAll('#exercise5 .ex5-select').forEach(select => populateDropdown(select, exerciseData.ex5.options || []));
            document.querySelectorAll('#exercise6 .ex6-select').forEach(select => populateDropdown(select, exerciseData.ex6.options || []));
            document.querySelectorAll('#exercise8 .ex8-select').forEach(select => populateDropdown(select, exerciseData.ex8.options || []));

            // Populate dropdowns for Exercise 3 (special case with varying options)
            for (const key in exerciseData.ex3.options) {
                const select = document.getElementById(`ex3_${key}`);
                if (select) populateDropdown(select, exerciseData.ex3.options[key] || []);
            }

            // Attach event listeners to all check, show, reset buttons
            document.querySelectorAll('.check-exercise-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const exerciseId = parseInt(e.target.dataset.exerciseId);
                    checkExercise(exerciseId);
                });
            });

            document.querySelectorAll('.show-exercise-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const exerciseId = parseInt(e.target.dataset.exerciseId);
                    showExerciseAnswers(exerciseId);
                });
            });

            document.querySelectorAll('.reset-exercise-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const exerciseId = parseInt(e.target.dataset.exerciseId);
                    resetExercise(exerciseId);
                });
            });
        });
    </script>
</body>
</html>
