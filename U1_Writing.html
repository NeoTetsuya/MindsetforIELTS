<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unit 1 - Writing Worksheet</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .correct {
            @apply text-green-600;
        }
        .incorrect {
            @apply text-red-600;
        }
        .draggable {
            /* Improved draggable item styling */
            @apply p-2 border-2 border-dashed border-gray-400 rounded-xl cursor-move bg-white/70 touch-none shadow-md hover:shadow-lg hover:scale-105 transition-all duration-200;
        }
        .drop-zone {
            /* Styling for the drop targets */
            @apply p-4 border-2 border-dashed border-gray-300 rounded-xl h-28 w-full flex items-center justify-center text-gray-400 bg-gray-50/50 transition-all duration-200;
        }
        .drop-zone.over {
            /* Glowing effect when dragging over */
            @apply bg-indigo-100 border-indigo-400 scale-105 shadow-lg;
        }
        .drop-zone img {
            max-height: 100%;
            @apply rounded-lg;
        }
        .text-input {
            /* Bolder text input style with new color scheme */
            @apply bg-white border-2 border-indigo-300 placeholder-gray-500 text-gray-800 text-base focus:bg-white focus:border-indigo-500 focus:ring-2 focus:ring-indigo-400 rounded-md shadow-inner transition-all duration-200 p-1 text-center;
        }
        /* Custom radio button styles */
        input[type="radio"] {
            @apply appearance-none h-4 w-4 border-2 border-gray-400 rounded-full bg-white checked:bg-indigo-600 checked:border-indigo-600 focus:outline-none transition duration-200;
        }
    </style>
</head>
<body class="bg-gray-100 p-4 font-sans text-gray-800">

    <div class="max-w-4xl mx-auto bg-white p-6 md:p-8 rounded-xl shadow-lg">
        
        <h1 class="text-3xl md:text-4xl font-bold text-center text-indigo-700 mb-8">
            IELTS Writing Task 1 Workout
        </h1>

        <section id="exercise1" class="mb-10 p-6 bg-indigo-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-indigo-600 mb-4 flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>Exercise 1: General Knowledge</h2>
            <form id="form1">
                <div class="space-y-6">
                    <div>
                        <p class="question font-semibold">1. How many minutes should you take to complete IELTS Writing Task 1?</p>
                        <div class="space-y-2" data-correct="20">
                            <label class="flex items-center p-2 rounded-lg hover:bg-indigo-100 cursor-pointer"><input type="radio" name="q1" value="10"> <span class="option-label">10</span></label>
                            <label class="flex items-center p-2 rounded-lg hover:bg-indigo-100 cursor-pointer"><input type="radio" name="q1" value="20"> <span class="option-label">20</span></label>
                            <label class="flex items-center p-2 rounded-lg hover:bg-indigo-100 cursor-pointer"><input type="radio" name="q1" value="30"> <span class="option-label">30</span></label>
                            <label class="flex items-center p-2 rounded-lg hover:bg-indigo-100 cursor-pointer"><input type="radio" name="q1" value="40"> <span class="option-label">40</span></label>
                        </div>
                        <div class="feedback mt-3 text-sm font-semibold flex items-center gap-2"></div>
                    </div>
                    <div>
                        <p class="question font-semibold">2. How many words should you write for IELTS Writing Task 1?</p>
                        <div class="space-y-2" data-correct="150">
                             <label class="flex items-center p-2 rounded-lg hover:bg-indigo-100 cursor-pointer"><input type="radio" name="q2" value="75"> <span class="option-label">75</span></label>
                            <label class="flex items-center p-2 rounded-lg hover:bg-indigo-100 cursor-pointer"><input type="radio" name="q2" value="100"> <span class="option-label">100</span></label>
                            <label class="flex items-center p-2 rounded-lg hover:bg-indigo-100 cursor-pointer"><input type="radio" name="q2" value="150"> <span class="option-label">150</span></label>
                            <label class="flex items-center p-2 rounded-lg hover:bg-indigo-100 cursor-pointer"><input type="radio" name="q2" value="250"> <span class="option-label">250</span></label>
                        </div>
                        <div class="feedback mt-3 text-sm font-semibold flex items-center gap-2"></div>
                    </div>
                    <div>
                        <p class="question font-semibold">3. In Academic IELTS Writing Task 1 you might have to write:</p>
                        <div class="space-y-2" data-correct="a report">
                             <label class="flex items-center p-2 rounded-lg hover:bg-indigo-100 cursor-pointer"><input type="radio" name="q3" value="a report"> <span class="option-label">a report</span></label>
                            <label class="flex items-center p-2 rounded-lg hover:bg-indigo-100 cursor-pointer"><input type="radio" name="q3" value="an essay"> <span class="option-label">an essay</span></label>
                            <label class="flex items-center p-2 rounded-lg hover:bg-indigo-100 cursor-pointer"><input type="radio" name="q3" value="a story"> <span class="option-label">a story</span></label>
                            <label class="flex items-center p-2 rounded-lg hover:bg-indigo-100 cursor-pointer"><input type="radio" name="q3" value="a letter"> <span class="option-label">a letter</span></label>
                        </div>
                        <div class="feedback mt-3 text-sm font-semibold flex items-center gap-2"></div>
                    </div>
                </div>
                <div class="mt-8 text-center">
                    <button type="button" onclick="checkAnswers('form1')" class="px-5 py-2 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 transition duration-200 ease-in-out transform hover:scale-105">Check Answers</button>
                </div>
            </form>
        </section>

        <section id="exercise2" class="mb-10 p-6 bg-blue-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-blue-600 mb-4 flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7" /></svg>Exercise 2: Ordering the Tea Process</h2>
            <p class="question">Look at the pictures. Drag and drop them into the correct order to show the process of producing tea.</p>
            
            <div id="draggable-items-tea" class="flex flex-wrap gap-4 mb-6 p-4 bg-blue-100/50 rounded-xl justify-center">
            </div>
            
            <div id="drop-zones-tea" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4">
            </div>
            <div class="mt-8 text-center">
                <button type="button" onclick="checkOrder('tea')" class="px-5 py-2 bg-blue-600 text-white rounded-lg shadow-md hover:bg-blue-700 transition duration-200 ease-in-out transform hover:scale-105">Check Order</button>
                <div id="feedback-ex2" class="feedback justify-center mt-3 text-sm font-semibold flex items-center gap-2"></div>
            </div>
        </section>
        
        <section id="exercise3" class="mb-10 p-6 bg-green-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-green-600 mb-4 flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z" /></svg>Exercise 3: Fill in the Blanks</h2>
            <p class="question">Complete the information about each stage of the tea process. Use the words in the box.</p>
            <div class="p-4 bg-green-100/50 border border-green-200/50 rounded-xl mb-6">
                <p class="text-center font-semibold text-green-800 tracking-wider text-base">260 degrees | 3 years | by hand | in boxes | indoors | supermarket | tea</p>
            </div>
            <form id="form3" class="space-y-4 text-base">
                 <div class="flex items-center" data-answer="3 years">Grown for <input type="text" class="text-input w-28 mx-2 !border-green-400 focus:!border-green-600 focus:!ring-green-400">. <span class="feedback"></span></div>
                 <div class="flex items-center" data-answer="by hand">Picked <input type="text" class="text-input w-28 mx-2 !border-green-400 focus:!border-green-600 focus:!ring-green-400">. <span class="feedback"></span></div>
                 <div class="flex items-center" data-answer="indoors">Left to rest (outdoors or <input type="text" class="text-input w-28 mx-2 !border-green-400 focus:!border-green-600 focus:!ring-green-400">). <span class="feedback"></span></div>
                 <div class="flex items-center" data-answer="260 degrees">Dried at <input type="text" class="text-input w-32 mx-2 !border-green-400 focus:!border-green-600 focus:!ring-green-400"> for two hours. <span class="feedback"></span></div>
                 <div class="flex items-center" data-answer="in boxes">Teabags packed <input type="text" class="text-input w-28 mx-2 !border-green-400 focus:!border-green-600 focus:!ring-green-400">. <span class="feedback"></span></div>
                 <div class="flex items-center" data-answer="supermarket">Delivered to <input type="text" class="text-input w-32 mx-2 !border-green-400 focus:!border-green-600 focus:!ring-green-400">. <span class="feedback"></span></div>
                 <div class="flex items-center" data-answer="tea">Customer buys <input type="text" class="text-input w-28 mx-2 !border-green-400 focus:!border-green-600 focus:!ring-green-400">. <span class="feedback"></span></div>
            </form>
            <div class="mt-8 text-center">
                <button type="button" onclick="checkFillInBlanks('form3')" class="px-5 py-2 bg-green-600 text-white rounded-lg shadow-md hover:bg-green-700 transition duration-200 ease-in-out transform hover:scale-105">Check Answers</button>
            </div>
        </section>

        <section id="exercise4" class="mb-10 p-6 bg-purple-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-purple-600 mb-4 flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>Exercise 4: Important Information</h2>
            <p class="question">Choose whether the information is important or not important for a report.</p>
            <form id="form4" class="space-y-4">
                <!-- Questions will be injected by JS -->
            </form>
            <div class="mt-8 text-center">
                <button type="button" onclick="checkForm4()" class="px-5 py-2 bg-purple-600 text-white rounded-lg shadow-md hover:bg-purple-700 transition duration-200 ease-in-out transform hover:scale-105">Check Answers</button>
            </div>
        </section>

        <section id="exercise5" class="mb-10 p-6 bg-pink-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-pink-600 mb-4 flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg>Exercise 5: Analyse a Report</h2>
            <p class="question">Read the report on the diagram and answer the questions.</p>
            <div class="bg-white p-4 rounded-md border border-gray-200 mb-6">
                <p class="text-gray-700 italic">The diagram explains how tea is produced before it is sold in supermarkets. Supermarkets in my country sell a lot of tea.It shows several stages of production from the growing and picking stages to when lorries deliver the tea to supermarkets and when customers buy it while they are shopping. There are seven main stages between the tea being planted and being bought. First of all, the tea is grown for three years when it is picked by hand. After that, the tea is left to rest either outdoors or indoors. After this comes the packaging stage. The dried tea is made into teabags and the teabags are put into boxes. The boxes are then packed into lorries. The lorries are very big. The lorries deliver the tea to the supermarkets. Tea is a healthy drink.</p>
            </div>
            <form id="form5">
                 <!-- Questions will be injected by JS -->
            </form>
            <div class="mt-8 text-center">
                <button type="button" onclick="checkForm5()" class="px-5 py-2 bg-pink-600 text-white rounded-lg shadow-md hover:bg-pink-700 transition duration-200 ease-in-out transform hover:scale-105">Check Answers</button>
            </div>
        </section>

        <section id="exercise6" class="mb-10 p-6 bg-gray-200 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-gray-700 mb-4 flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16" /></svg>Exercise 6: Order Paragraphs</h2>
            <p class="question">Look at the diagram again. Then put the paragraphs in the correct order to complete the report.</p>
             <div id="drop-zones-para" class="space-y-4">
                <!-- Drop zones for paragraphs will be injected by JS -->
            </div>
             <div id="draggable-items-para" class="flex flex-wrap gap-4 my-6 p-4 bg-gray-300/50 rounded-xl justify-center">
                <!-- Draggable paragraphs will be injected here by JS -->
            </div>
            <div class="mt-8 text-center">
                <button type="button" onclick="checkParaOrder()" class="px-5 py-2 bg-gray-600 text-white rounded-lg shadow-md hover:bg-gray-700 transition duration-200 ease-in-out transform hover:scale-105">Check Order</button>
                <div id="feedback-ex6" class="feedback justify-center mt-3 text-sm font-semibold flex items-center gap-2"></div>
            </div>
        </section>

        <section id="exercise7" class="mb-10 p-6 bg-orange-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-orange-600 mb-4 flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l-1.586-1.586a2 2 0 00-2.828 0L6 14m6-6l.01.01" /></svg>Exercise 7: Match Sentences to Pictures</h2>
            <p class="question">Match the correct pictures with the sentences describing the process of producing tea.</p>
            <div id="ex7-container" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <!-- Matching items will be injected by JS -->
            </div>
            <div class="mt-8 text-center">
                 <button type="button" onclick="checkEx7()" class="px-5 py-2 bg-orange-600 text-white rounded-lg shadow-md hover:bg-orange-700 transition duration-200 ease-in-out transform hover:scale-105">Check Answers</button>
            </div>
        </section>

        <section id="exercise8" class="mb-10 p-6 bg-yellow-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-yellow-700 mb-4 flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a2 2 0 01-2-2V7a2 2 0 012-2h6l2-2h2l-2 2z" /></svg>Exercise 8: Present Simple Passive</h2>
            <p class="question">Complete the sentences in the present simple passive.</p>
             <div class="p-4 bg-gray-100/80 border border-gray-200 rounded-xl mb-6 text-base text-gray-700">
                <b>Example:</b> Workers grow the tea for three years. (Active) → The tea <b>is grown</b> for three years. (Passive)
            </div>
            <form id="form8" class="space-y-4 text-base">
                <div data-answer="is picked">1. Workers pick the tea by hand. <br>The tea <input type="text" class="text-input w-32 mx-1 !border-yellow-500 focus:!border-yellow-600 focus:!ring-yellow-400"> by hand. <span class="feedback"></span></div>
                <div data-answer="are kept">2. Workers keep the good oranges. <br>The good oranges <input type="text" class="text-input w-32 mx-1 !border-yellow-500 focus:!border-yellow-600 focus:!ring-yellow-400">. <span class="feedback"></span></div>
                <div data-answer="is shipped">3. Workers ship the coffee in fridges. <br>The coffee <input type="text" class="text-input w-32 mx-1 !border-yellow-500 focus:!border-yellow-600 focus:!ring-yellow-400"> in fridges. <span class="feedback"></span></div>
                <div data-answer="are packed">4. Workers pack the apples into lorries. <br>The apples <input type="text" class="text-input w-32 mx-1 !border-yellow-500 focus:!border-yellow-600 focus:!ring-yellow-400"> into lorries. <span class="feedback"></span></div>
                <div data-answer="is delivered">5. The lorries deliver the rice to the supermarket. <br>The rice <input type="text" class="text-input w-32 mx-1 !border-yellow-500 focus:!border-yellow-600 focus:!ring-yellow-400"> to the supermarket. <span class="feedback"></span></div>
                <div data-answer="is bought">6. Customers buy the chocolate in the supermarket. <br>The chocolate <input type="text" class="text-input w-32 mx-1 !border-yellow-500 focus:!border-yellow-600 focus:!ring-yellow-400"> in the supermarket. <span class="feedback"></span></div>
            </form>
             <div class="mt-8 text-center">
                <button type="button" onclick="checkFillInBlanks('form8')" class="px-5 py-2 bg-yellow-600 text-white rounded-lg shadow-md hover:bg-yellow-700 transition duration-200 ease-in-out transform hover:scale-105">Check Answers</button>
            </div>
        </section>
        
        <section id="exercise9-10" class="mb-10 p-6 bg-red-50 rounded-lg shadow-md">
            <h2 class="text-2xl font-semibold text-red-600 mb-4 flex items-center gap-3"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01" /></svg>Exercise 9 & 10: The Banana Process & Writing Task</h2>
            <p class="question">Look at the diagram showing how bananas are grown and prepared for sale.</p>
            <img src="https://i.postimg.cc/NfwVGMHQ/Writing-Exercise10.png" alt="Process of growing bananas" class="w-full rounded-2xl shadow-lg mb-6" onerror="this.onerror=null;this.src='https://placehold.co/800x600/f0f0f0/333?text=Banana+Process+Diagram';">
            
            <h3 class="text-xl font-bold text-gray-800 mt-8 mb-4">Exercise 9: Label the Stages</h3>
            <p class="question">Drag the labels to the correct stage in the banana production process.</p>
             <div id="draggable-labels-banana" class="flex flex-wrap gap-2 mb-6 p-4 bg-gray-50/50 rounded-xl justify-center">
             </div>
            <div id="drop-zones-banana" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4">
            </div>
             <div class="mt-8 text-center">
                <button type="button" onclick="checkLabels('banana')" class="px-5 py-2 bg-red-600 text-white rounded-lg shadow-md hover:bg-red-700 transition duration-200 ease-in-out transform hover:scale-105">Check Labels</button>
                <div id="feedback-ex9" class="feedback justify-center mt-3 text-sm font-semibold flex items-center gap-2"></div>
            </div>

            <h3 class="text-xl font-bold text-gray-800 mt-12 mb-4 border-t-2 border-red-500/50 pt-8">Exercise 10: Writing Task 1</h3>
            <div class="bg-gray-100/80 p-6 rounded-xl border text-base">
                <p class="font-semibold">You should spend about 20 minutes on this task.</p>
                <p class="my-2">The diagram shows the process of growing bananas for selling in supermarkets. Summarise the information by selecting and reporting the main features, and make comparisons where relevant.</p>
                <p class="font-semibold">Write at least 150 words.</p>
            </div>
            <textarea id="writing-task" class="mt-4 w-full p-4 border-gray-300 rounded-xl shadow-inner focus:ring-red-500 focus:border-red-500 text-base" rows="15" placeholder="Start writing your report here..."></textarea>
            <div class="mt-2 text-right text-sm text-gray-600 font-semibold">
                Word Count: <span id="word-count" class="font-bold text-red-600">0</span>
            </div>
        </section>

    </div>

    <script>
        // --- Icon Definitions ---
        const correctIcon = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>`;
        const incorrectIcon = `<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd" /></svg>`;

        // --- General Answer Checking Functions ---
        function checkAnswers(formId) {
            const form = document.getElementById(formId);
            const questions = form.querySelectorAll('div[data-correct]');
            questions.forEach(q => {
                const feedbackEl = q.nextElementSibling;
                const correctAnswer = q.dataset.correct;
                const radios = q.querySelectorAll('input[type="radio"]');
                let userAnswer = '';
                radios.forEach(radio => {
                    if (radio.checked) {
                        userAnswer = radio.value;
                    }
                });

                if (!userAnswer) {
                    feedbackEl.innerHTML = `${incorrectIcon} <span>Please select an answer.</span>`;
                    feedbackEl.className = 'feedback incorrect';
                    return;
                }

                if (userAnswer === correctAnswer) {
                    feedbackEl.innerHTML = `${correctIcon} <span>Correct!</span>`;
                    feedbackEl.className = 'feedback correct';
                } else {
                    feedbackEl.innerHTML = `${incorrectIcon} <span>Incorrect. The correct answer is "${correctAnswer}".</span>`;
                    feedbackEl.className = 'feedback incorrect';
                }
            });
        }
        
        function checkFillInBlanks(formId) {
            const form = document.getElementById(formId);
            const questions = form.querySelectorAll('div[data-answer]');
            questions.forEach(q => {
                const input = q.querySelector('input[type="text"]');
                const feedbackEl = q.querySelector('.feedback');
                const correctAnswer = q.dataset.answer.toLowerCase();
                const userAnswer = input.value.trim().toLowerCase();
                
                if (!userAnswer) {
                    feedbackEl.innerHTML = `${incorrectIcon} <span>Please fill in the blank.</span>`;
                    feedbackEl.className = 'feedback incorrect';
                    return;
                }

                if (userAnswer === correctAnswer) {
                    feedbackEl.innerHTML = `${correctIcon} <span>Correct</span>`;
                    feedbackEl.className = 'feedback correct';
                    input.classList.add('!border-green-500', 'ring-green-500');
                    input.classList.remove('!border-red-500', 'ring-red-500');
                } else {
                    feedbackEl.innerHTML = `${incorrectIcon} <span>Try again</span>`;
                    feedbackEl.className = 'feedback incorrect';
                    input.classList.add('!border-red-500', 'ring-red-500');
                    input.classList.remove('!border-green-500', 'ring-green-500');
                }
            });
        }

        // --- Drag and Drop Logic ---
        let draggedItem = null;

        function setupDragAndDrop(containerId, items, dropZoneContainerId, numDropZones, itemClass = 'draggable-item') {
            const draggableContainer = document.getElementById(containerId);
            const dropZoneContainer = document.getElementById(dropZoneContainerId);
            
            draggableContainer.innerHTML = '';
            dropZoneContainer.innerHTML = '';

            items.sort(() => Math.random() - 0.5);
            items.forEach(item => {
                const div = document.createElement('div');
                div.id = item.id;
                div.className = itemClass;
                div.draggable = true;
                
                if(item.type === 'image') {
                    div.innerHTML = `<img src="${item.content}" alt="Process stage" class="h-20 mx-auto pointer-events-none">`;
                } else if(item.type === 'paragraph'){
                     div.innerHTML = `<p class="p-2">${item.content}</p>`;
                }
                else {
                    div.className += ' px-4 py-2 bg-indigo-100/80 border-indigo-300 text-base';
                    div.textContent = item.content;
                }

                div.addEventListener('dragstart', (e) => {
                    draggedItem = e.target.closest('.' + itemClass);
                    e.dataTransfer.effectAllowed = 'move';
                    setTimeout(() => {
                        if(draggedItem) draggedItem.style.opacity = '0.5';
                    }, 0);
                });

                div.addEventListener('dragend', () => {
                     if(draggedItem) {
                        draggedItem.style.opacity = '1';
                        draggedItem = null;
                     }
                });

                draggableContainer.appendChild(div);
            });

            for (let i = 1; i <= numDropZones; i++) {
                const zone = document.createElement('div');
                zone.className = 'drop-zone';
                zone.dataset.order = i;
                zone.innerHTML = `<span class="font-bold text-lg text-gray-400 p-4">${i}</span>`;

                zone.addEventListener('dragover', (e) => {
                    e.preventDefault();
                    zone.classList.add('over');
                });
                zone.addEventListener('dragleave', () => {
                    zone.classList.remove('over');
                });
                zone.addEventListener('drop', (e) => {
                    e.preventDefault();
                    zone.classList.remove('over');
                    if (zone.children.length > 1) { 
                        const existingChild = zone.querySelector('.' + itemClass);
                        if(existingChild) draggableContainer.appendChild(existingChild);
                    }
                    if (draggedItem) {
                       zone.appendChild(draggedItem);
                       draggedItem.style.opacity = '1'; 
                    }
                });
                dropZoneContainer.appendChild(zone);
            }
        }
        
        function checkOrder(type) {
            const dropZones = document.querySelectorAll(`#drop-zones-${type} .drop-zone`);
            let correctCount = 0;
            let allCorrect = true;
            dropZones.forEach(zone => {
                const placedItem = zone.querySelector('.draggable');
                const correctOrder = zone.dataset.order;
                
                zone.classList.remove('border-green-500', 'border-red-500', 'bg-green-100', 'bg-red-100');

                if (placedItem && placedItem.id === `${type}-stage-${correctOrder}`) {
                    zone.classList.add('border-green-500', 'bg-green-100');
                    correctCount++;
                } else {
                    zone.classList.add('border-red-500', 'bg-red-100');
                    allCorrect = false;
                }
            });
            
            const feedbackEl = document.getElementById(`feedback-ex2`);
            if (allCorrect) {
                feedbackEl.innerHTML = `${correctIcon} <span>Excellent! The order is perfect.</span>`;
                feedbackEl.className = 'feedback correct justify-center';
            } else {
                feedbackEl.innerHTML = `${incorrectIcon} <span>You have ${correctCount} out of ${dropZones.length} correct. Keep trying!</span>`;
                feedbackEl.className = 'feedback incorrect justify-center';
            }
        }
        
        function checkLabels(type) {
            const dropZones = document.querySelectorAll(`#drop-zones-${type} .drop-zone`);
             let correctCount = 0;
            let allCorrect = true;
            dropZones.forEach(zone => {
                 const placedItem = zone.querySelector('.draggable');
                 const correctOrder = zone.dataset.order;
                 
                 zone.classList.remove('border-green-500', 'border-red-500', 'bg-green-100', 'bg-red-100');

                 if (placedItem && placedItem.id === `${type}-label-${correctOrder}`) {
                    zone.classList.add('border-green-500', 'bg-green-100');
                    correctCount++;
                 } else {
                    zone.classList.add('border-red-500', 'bg-red-100');
                    allCorrect = false;
                 }
            });
             const feedbackEl = document.getElementById(`feedback-ex9`);
            if (allCorrect) {
                feedbackEl.innerHTML = `${correctIcon} <span>Perfect! All labels are correct.</span>`;
                feedbackEl.className = 'feedback correct justify-center';
            } else {
                feedbackEl.innerHTML = `${incorrectIcon} <span>You have ${correctCount} out of ${dropZones.length} correct. Try again!</span>`;
                feedbackEl.className = 'feedback incorrect justify-center';
            }
        }

        // --- Word Count ---
        const writingTask = document.getElementById('writing-task');
        const wordCountEl = document.getElementById('word-count');
        writingTask.addEventListener('input', () => {
            const text = writingTask.value.trim();
            const words = text.split(/\s+/).filter(word => word.length > 0);
            wordCountEl.textContent = words.length;
        });

        // --- Exercise 4 Specific ---
        const ex4Questions = [
            { text: "Sun shining a lot.", answer: "Not important" },
            { text: "Tea grows for three years.", answer: "Important" },
            { text: "Person picking tea is female.", answer: "Not important" },
            { text: "Tea picked by hand.", answer: "Important" },
            { text: "Tea left to rest outdoors or indoors.", answer: "Important" },
            { text: "Round machine has open lid.", answer: "Not important" },
            { text: "Tea in drying machine for two hours.", answer: "Important" },
            { text: "Tea is dried at 260°C.", answer: "Important" },
            { text: "Put in box at packaging stage.", answer: "Important" },
            { text: "Delivered to supermarket.", answer: "Important" },
            { text: "Tea is finally bought by customers.", answer: "Important" }
        ];

        function initializeEx4() {
            const container = document.getElementById('form4');
            ex4Questions.forEach((q, index) => {
                const div = document.createElement('div');
                div.className = 'p-3 bg-purple-100 rounded-lg';
                div.innerHTML = `
                    <p class="question font-semibold">${index + 1}. ${q.text}</p>
                    <div class="space-y-2" data-correct="${q.answer}">
                        <label class="flex items-center p-2 rounded-lg hover:bg-purple-200 cursor-pointer"><input type="radio" name="ex4_q${index}" value="Important" class="!checked:bg-purple-600 !checked:border-purple-600"> <span class="option-label">Important</span></label>
                        <label class="flex items-center p-2 rounded-lg hover:bg-purple-200 cursor-pointer"><input type="radio" name="ex4_q${index}" value="Not important" class="!checked:bg-purple-600 !checked:border-purple-600"> <span class="option-label">Not important</span></label>
                    </div>
                    <div class="feedback mt-3 text-sm font-semibold flex items-center gap-2"></div>
                `;
                container.appendChild(div);
            });
        }
        function checkForm4() { checkAnswers('form4'); }

         // --- Exercise 5 Specific ---
        const ex5Questions = [
            { question: "Has the student used all of the important information?", answer: "No" },
            { question: "Has the student given his or her own opinion or used any information that is not important?", answer: "Yes" },
            { question: "Is the report long enough?", answer: "No" }
        ];

        function initializeEx5() {
            const container = document.getElementById('form5');
            container.innerHTML = ''; // Clear previous
            ex5Questions.forEach((q, index) => {
                const div = document.createElement('div');
                div.className = 'p-3 bg-pink-100 rounded-lg space-y-2';
                div.innerHTML = `
                    <p class="question font-semibold">${index + 1}. ${q.question}</p>
                    <div class="space-y-2" data-correct="${q.answer}">
                        <label class="flex items-center p-2 rounded-lg hover:bg-pink-200 cursor-pointer"><input type="radio" name="ex5_q${index}" value="Yes" class="!checked:bg-pink-600 !checked:border-pink-600"> <span class="option-label">Yes</span></label>
                        <label class="flex items-center p-2 rounded-lg hover:bg-pink-200 cursor-pointer"><input type="radio" name="ex5_q${index}" value="No" class="!checked:bg-pink-600 !checked:border-pink-600"> <span class="option-label">No</span></label>
                    </div>
                    <div class="feedback mt-3 text-sm font-semibold flex items-center gap-2"></div>
                `;
                container.appendChild(div);
            });
        }
        function checkForm5() { checkAnswers('form5'); }

        // --- Exercise 6 Specific ---
        const ex6Paragraphs = [
            { id: 'para-item-1', order: 1, content: 'The diagram explains how tea is produced before it is sold in supermarkets.' },
            { id: 'para-item-2', order: 2, content: 'It shows several stages of production from the growing and picking stages to when lorries deliver the tea to supermarkets and when customers buy it while they are shopping. There are seven main stages between the tea being planted and being bought.' },
            { id: 'para-item-3', order: 3, content: 'First of all, the tea is grown for three years when it is picked by hand. After that, the tea is left to rest either outdoors or indoors. Next, it is put in a drying machine where it is dried for two hours. The temperature during this stage of the process should be just over 260°C.' },
            { id: 'para-item-4', order: 4, content: 'After this comes the packaging stage. The dried tea is made into teabags and the teabags are put into boxes. The boxes are then packed into lorries. The lorries deliver the tea to the supermarkets. Finally, customers buy the tea when they are shopping.'}
        ];
        
        function initializeEx6() {
            const paragraphsForDnd = ex6Paragraphs.map(p => ({...p, type: 'paragraph'}));
            setupDragAndDrop('draggable-items-para', paragraphsForDnd, 'drop-zones-para', 4, 'draggable-para');
        }

        function checkParaOrder() {
            const dropZones = document.querySelectorAll('#drop-zones-para .drop-zone');
            let allCorrect = true;
            dropZones.forEach(zone => {
                const placedItem = zone.querySelector('.draggable-para');
                const correctOrder = zone.dataset.order;
                zone.classList.remove('border-green-500', 'border-red-500', 'bg-green-100', 'bg-red-100');
                if (!placedItem || placedItem.id !== `para-item-${correctOrder}`) {
                    allCorrect = false;
                    zone.classList.add('border-red-500', 'bg-red-100');
                } else {
                    zone.classList.add('border-green-500', 'bg-green-100');
                }
            });
            const feedbackEl = document.getElementById('feedback-ex6');
             if (allCorrect) {
                feedbackEl.innerHTML = `${correctIcon} <span>Perfect order!</span>`;
                feedbackEl.className = 'feedback correct justify-center';
            } else {
                feedbackEl.innerHTML = `${incorrectIcon} <span>The order is not quite right. Try again!</span>`;
                feedbackEl.className = 'feedback incorrect justify-center';
            }
        }
        
         // --- Exercise 7 Specific ---
        const ex7Sentences = [
            "First of all, the tea is grown for three years.",
            "Then it is picked by hand.",
            "After that, the tea is left to rest either outdoors or indoors.",
            "Next, it is put in a drying machine where it is dried for two hours. The temperature during this stage of the process should be just over 260°C.",
            "After this comes the packaging stage. The dried tea is made into teabags and the teabags are put into boxes.",
            "The boxes are then packed into lorries. The lorries deliver the tea to the supermarkets.",
            "Finally, customers buy the tea when they are shopping."
        ];
        
        const ex7Images = [
            'https://i.postimg.cc/GhY7YKMq/Tea-Stage1.jpg',
            'https://i.postimg.cc/kgmjySz9/Tea-Stage2.jpg',
            'https://i.postimg.cc/VNsDx8zV/Tea-Stage3.jpg',
            'https://i.postimg.cc/3xFtfRQG/Tea-Stage4.jpg',
            'https://i.postimg.cc/wBW0HGvT/Tea-Stage5.jpg',
            'https://i.postimg.cc/bJsLv9D0/Tea-Stage6.jpg',
            'https://i.postimg.cc/pT4C55zw/Tea-Stage7.jpg'
        ];
        
        function initializeEx7() {
            const container = document.getElementById('ex7-container');
            ex7Images.forEach((imgSrc, index) => {
                const div = document.createElement('div');
                div.className = 'p-3 bg-orange-100 rounded-lg flex flex-col gap-4';
                
                const img = document.createElement('img');
                img.src = imgSrc;
                img.className = 'w-full h-40 object-contain rounded-md shadow-sm';
                div.appendChild(img);
                
                const select = document.createElement('select');
                select.id = `ex7-select-${index}`;
                select.className = 'p-2 border rounded-md focus:ring-orange-500 focus:border-orange-500 w-full !text-input';
                
                const defaultOption = document.createElement('option');
                defaultOption.value = "";
                defaultOption.textContent = "Select matching sentence...";
                select.appendChild(defaultOption);
                
                ex7Sentences.forEach((sentence, sIndex) => {
                    const option = document.createElement('option');
                    option.value = sIndex;
                    option.textContent = sentence;
                    select.appendChild(option);
                });
                div.appendChild(select);
                
                const feedbackDiv = document.createElement('div');
                feedbackDiv.id = `ex7-feedback-${index}`;
                feedbackDiv.className = 'feedback';
                div.appendChild(feedbackDiv);
                
                container.appendChild(div);
            });
        }

        function checkEx7() {
            ex7Images.forEach((_, index) => {
                const select = document.getElementById(`ex7-select-${index}`);
                const feedbackEl = document.getElementById(`ex7-feedback-${index}`);
                const isCorrect = select.value == index; // Correct if selected option index matches image index
                
                if (isCorrect) {
                     feedbackEl.innerHTML = `${correctIcon} <span>Correct!</span>`;
                     feedbackEl.className = 'feedback correct';
                } else {
                     feedbackEl.innerHTML = `${incorrectIcon} <span>Incorrect.</span>`;
                     feedbackEl.className = 'feedback incorrect';
                }
            });
        }


        // --- Initialize Exercises on Load ---
        document.addEventListener('DOMContentLoaded', () => {
            initializeEx4();
            initializeEx5();
            initializeEx6();
            initializeEx7();

            const teaItems = [
                { id: 'tea-stage-1', type: 'image', content: 'https://i.postimg.cc/GhY7YKMq/Tea-Stage1.jpg' },
                { id: 'tea-stage-2', type: 'image', content: 'https://i.postimg.cc/kgmjySz9/Tea-Stage2.jpg' },
                { id: 'tea-stage-3', type: 'image', content: 'https://i.postimg.cc/VNsDx8zV/Tea-Stage3.jpg' },
                { id: 'tea-stage-4', type: 'image', content: 'https://i.postimg.cc/3xFtfRQG/Tea-Stage4.jpg' },
                { id: 'tea-stage-5', type: 'image', content: 'https://i.postimg.cc/wBW0HGvT/Tea-Stage5.jpg' },
                { id: 'tea-stage-6', type: 'image', content: 'https://i.postimg.cc/bJsLv9D0/Tea-Stage6.jpg' },
                { id: 'tea-stage-7', type: 'image', content: 'https://i.postimg.cc/pT4C55zw/Tea-Stage7.jpg' }
            ];
            setupDragAndDrop('draggable-items-tea', teaItems, 'drop-zones-tea', 7, 'draggable');

            const bananaLabels = [
                { id: 'banana-label-1', type: 'text', content: 'Growing' },
                { id: 'banana-label-2', type: 'text', content: 'Picking' },
                { id: 'banana-label-3', type: 'text', content: 'Checking' },
                { id: 'banana-label-4', type: 'text', content: 'Shipping' },
                { id: 'banana-label-5', type: 'text', content: 'Resting' },
                { id: 'banana-label-6', type: 'text', content: 'Delivery' },
                { id: 'banana-label-7', type: 'text', content: 'Buying' }
            ];
            setupDragAndDrop('draggable-labels-banana', bananaLabels, 'drop-zones-banana', 7, 'draggable');
        });

    </script>
</body>
</html>
