<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mindset for IELTS 1 - Unit 4 Reading</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Inter Font from Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        /* Custom CSS from style.css */
        body {
            font-family: 'Inter', sans-serif;
        }
        .correct-feedback {
            color: #10B981; /* Green-500 */
        }
        .incorrect-feedback {
            color: #EF4444; /* Red-500 */
        }
        .feedback-box {
            padding: 0.5rem 0.75rem;
            /* margin-top: 0.5rem; Removed as it was causing vertical offset in flex container */
            border-radius: 0.375rem; /* rounded-md */
            font-size: 0.875rem; /* text-sm */
            display: inline-flex; /* Make it inline-flex to sit next to other elements */
            align-items: center; /* Vertically align content */
            justify-content: center; /* Center text horizontally */
            white-space: nowrap; /* Prevent text from wrapping */
            margin-left: 0.5rem; /* Add some space to the left of the feedback box */
        }
        .feedback-box.correct {
            background-color: #D1FAE5; /* green-100 */
            border: 1px solid #34D399; /* green-400 */
        }
        .feedback-box.incorrect {
            background-color: #FEE2E2; /* red-100 */
            border: 1px solid #F87171; /* red-400 */
        }
        /* Message Box for Save Confirmation */
        #message-box {
            position: fixed;
            top: 20px;
            right: 20px;
            background-color: #4CAF50; /* Green */
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.5s ease-in-out;
        }
        #message-box.show {
            opacity: 1;
        }

        /* Adjusted styles for titles (reverted font sizes) */
        h1 {
            font-size: 2.25rem; /* Reverted to original size */
            text-align: center;
            margin-bottom: 2.5rem;
            color: #6B21A8; /* Deeper purple */
            font-weight: 900; /* Extra bold */
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        h2 {
            font-size: 1.75rem; /* Reverted to original size */
            margin-top: 2rem;
            border-bottom: 2px solid #C4B5FD; /* Lighter purple border */
            padding-bottom: 0.75rem;
            color: #7C3AED; /* Medium purple */
            font-weight: 800; /* Extra bold */
        }
        h3 {
            font-size: 1.25rem;
            margin-top: 1.5rem;
            color: #4C1D95; /* Darker purple for subheadings */
        }

        /* Existing styles from original Reading_Unit4.html, adapted for consistency */
        .exercise-section {
            margin-bottom: 2rem;
            padding: 1.5rem;
            background-color: #f8fafc;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
        }
        .exercise-section p {
            margin-bottom: 1rem;
        }
        /* Input and Select field base styles - these will be overridden by feedback classes */
        .input-field, .select-field {
            border: 1px solid #cbd5e1; /* Default border color */
            border-radius: 6px;
            padding: 0.6rem 1rem;
            width: 100%;
            max-width: 300px; /* Default max-width for text inputs */
            background-color: #ffffff;
            transition: border-color 0.2s, background-color 0.2s;
        }
        .select-field { /* Specific styling for select fields */
            width: auto; /* Allow width to adjust to content */
            min-width: 100px; /* Adjusted minimum width */
            max-width: 200px; /* Adjusted maximum width */
        }
        .input-field:focus, .select-field:focus {
            outline: none;
            border-color: #6366f1;
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }
        .button {
            background-color: #6366f1;
            color: #ffffff;
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: background-color 0.2s, transform 0.1s;
            box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
        }
        .button:hover {
            background-color: #4f46e5;
            transform: translateY(-1px);
        }
        .button:active {
            transform: translateY(0);
        }
        /* The .feedback class is now handled by .correct-feedback and .incorrect-feedback */
        .grid-cols-2 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1rem;
        }
        .list-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
            flex-wrap: wrap; /* Allow items to wrap on smaller screens */
        }
        .list-item input[type="text"] {
            flex-grow: 1; /* Allow text inputs to grow */
            margin-left: 0.5rem;
        }
        .list-item .select-field {
            flex-grow: 1; /* Allow select fields to grow but respect max-width */
            margin-left: 0.5rem;
            max-width: 200px; /* Apply max-width here too */
        }
        .radio-group label {
            display: block;
            margin-bottom: 0.5rem;
            cursor: pointer;
        }
        .radio-group input[type="radio"] {
            margin-right: 0.5rem;
        }
        .paragraph-text {
            background-color: #ecf1f7;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1.5rem;
            white-space: pre-wrap; /* Preserve line breaks */
        }
        .highlight {
            background-color: #fcd34d; /* Tailwind yellow-300 */
            padding: 0.1rem 0.3rem;
            border-radius: 4px;
        }
        .answer-box {
            border: 1px dashed #9ca3af;
            padding: 0.5rem;
            min-height: 2.5rem;
            display: inline-block;
            vertical-align: middle;
            margin: 0 0.2rem;
            text-align: center;
            background-color: #f9fafb;
        }
        .drag-item {
            background-color: #a78bfa; /* Indigo-400 */
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 6px;
            margin: 0.5rem;
            cursor: grab;
            display: inline-block;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .drop-target {
            border: 2px dashed #6366f1;
            min-height: 40px;
            padding: 0.5rem;
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #e0e7ff; /* Indigo-100 */
            margin-top: 0.5rem;
        }
        .drag-container {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 1.5rem;
            background-color: #f3f4f6;
            padding: 1rem;
            border-radius: 8px;
        }
        .match-item {
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap; /* Allow items to wrap on smaller screens */
        }
        /* Adjusted width for select fields within match-item */
        .match-item .select-field {
            flex-shrink: 0;
            width: auto; /* Allow width to adjust */
            min-width: 60px; /* Smaller min-width */
            max-width: 80px; /* Smaller max-width */
            text-align: center;
        }
        .match-item input {
            flex-shrink: 0;
            width: auto; /* Allow width to adjust */
            min-width: 50px; /* Smallest sensible width */
            max-width: 250px; /* Constrain max width */
            text-align: center;
        }
        .match-item span {
            flex-grow: 1;
        }
        /* New styling for images in Exercise 1 to control their size */
        .exercise-1-image {
            max-width: 200px; /* Set a maximum width for the images */
            height: auto; /* Maintain aspect ratio */
            display: block; /* Ensures mx-auto works for centering */
            margin-left: auto;
            margin-right: auto;
        }
        .drop-zone {
            border: 2px dashed #6366f1;
            border-radius: 8px;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem;
            background-color: #e0e7ff; /* light indigo */
            color: #4338ca; /* darker indigo */
            font-weight: 500;
            margin-top: 0.5rem;
        }
        .drag-item.dragging {
            opacity: 0.5;
        }
        .save-load-buttons {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-top: 2rem;
            padding-top: 1.5rem;
            border-top: 1px solid #e2e8f0;
        }

        @media (max-width: 768px) {
            .container {
                margin: 1rem;
                padding: 1rem;
            }
            h1 {
                font-size: 1.75rem;
            }
            h2 {
                font-size: 1.5rem;
            }
            .grid-cols-2 {
                grid-template-columns: 1fr;
            }
            .input-field, .select-field {
                max-width: 100%;
            }
            .list-item .select-field,
            .match-item .select-field {
                min-width: unset; /* Remove min-width on small screens */
                max-width: 100%; /* Allow to fill width on small screens */
            }
            .exercise-1-image {
                max-width: 100%; /* Allow images to be full width on small screens */
            }
            .save-load-buttons {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body class="min-h-screen bg-gray-100 p-4 font-sans text-gray-800">
    <div class="max-w-4xl mx-auto bg-white p-6 md:p-8 rounded-xl shadow-lg">
        <h1>Mindset for IELTS 1 - Unit 4 Reading</h1>

        <div class="flex justify-end mb-6 space-x-2">
            <button id="clear-all-answers-button" class="px-4 py-2 bg-red-500 text-white rounded-lg shadow-md hover:bg-red-600 transition duration-200 ease-in-out transform hover:scale-105">
                Clear All Answers
            </button>
        </div>

        <!-- Exercise 1 -->
        <div class="exercise-section">
            <h2>Unit 4: Exercise 1</h2>
            <p>In this unit, you will answer IELTS Reading matching information questions and read a text called ‘How technology has changed the way we communicate’.</p>
            <p>What do you know about the development of the telephone? Match the decades with the correct photos.</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <img src="https://i.postimg.cc/289LqgQt/Reading-Unit4-Exercise1-Picture1.jpg" alt="Telephone from 1980s" class="rounded-md mb-2 exercise-1-image">
                    <div class="list-item">
                        <span>1.</span>
                        <select id="ex1_q1" class="select-field">
                            <option value="">Select an option</option>
                            <option value="1980s">1980s</option>
                            <option value="1970s">1970s</option>
                            <option value="2000s">2000s</option>
                            <option value="2010s">2010s</option>
                            <option value="1920s">1920s</option>
                        </select>
                        <div id="ex1_feedback1" class="feedback-box hidden"></div>
                    </div>
                </div>
                <div>
                    <img src="https://i.postimg.cc/rs8RWkZB/Reading-Unit4-Exercise1-Picture2.jpg" alt="Telephone from 1970s" class="rounded-md mb-2 exercise-1-image">
                    <div class="list-item">
                        <span>2.</span>
                        <select id="ex1_q2" class="select-field">
                            <option value="">Select an option</option>
                            <option value="1980s">1980s</option>
                            <option value="1970s">1970s</option>
                            <option value="2000s">2000s</option>
                            <option value="2010s">2010s</option>
                            <option value="1920s">1920s</option>
                        </select>
                        <div id="ex1_feedback2" class="feedback-box hidden"></div>
                    </div>
                </div>
                <div>
                    <img src="https://i.postimg.cc/d34kjxzL/Reading-Unit4-Exercise1-Picture3.jpg" alt="Telephone from 2000s" class="rounded-md mb-2 exercise-1-image">
                    <div class="list-item">
                        <span>3.</span>
                        <select id="ex1_q3" class="select-field">
                            <option value="">Select an option</option>
                            <option value="1980s">1980s</option>
                            <option value="1970s">1970s</option>
                            <option value="2000s">2000s</option>
                            <option value="2010s">2010s</option>
                            <option value="1920s">1920s</option>
                        </select>
                        <div id="ex1_feedback3" class="feedback-box hidden"></div>
                    </div>
                </div>
                <div>
                    <img src="https://i.postimg.cc/bNw2wqtb/Reading-Unit4-Exercise1-Picture4.jpg" alt="Telephone from 2010s" class="rounded-md mb-2 exercise-1-image">
                    <div class="list-item">
                        <span>4.</span>
                        <select id="ex1_q4" class="select-field">
                            <option value="">Select an option</option>
                            <option value="1980s">1980s</option>
                            <option value="1970s">1970s</option>
                            <option value="2000s">2000s</option>
                            <option value="2010s">2010s</option>
                            <option value="1920s">1920s</option>
                        </select>
                        <div id="ex1_feedback4" class="feedback-box hidden"></div>
                    </div>
                </div>
                <div>
                    <img src="https://i.postimg.cc/05fwvzbP/Reading-Unit4-Exercise1-Picture5.jpg" alt="Telephone from 1920s" class="rounded-md mb-2 exercise-1-image">
                    <div class="list-item">
                        <span>5.</span>
                        <select id="ex1_q5" class="select-field">
                            <option value="">Select an option</option>
                            <option value="1980s">1980s</option>
                            <option value="1970s">1970s</option>
                            <option value="2000s">2000s</option>
                            <option value="2010s">2010s</option>
                            <option value="1920s">1920s</option>
                        </select>
                        <div id="ex1_feedback5" class="feedback-box hidden"></div>
                    </div>
                </div>
            </div>
            <button onclick="checkExercise1()" class="button mt-4">Check Answers</button>
        </div>

        <!-- Exercise 2 -->
        <div class="exercise-section">
            <h2>Unit 4: Exercise 2</h2>
            <p>What words and phrases do you already know for describing communication? Match the words and phrases with the definitions.</p>

            <div class="space-y-4">
                <div class="list-item">
                    <span>to begin communicating with someone, for example, by email or telephone:</span>
                    <select id="ex2_q1" class="select-field">
                        <option value="">Select an option</option>
                        <option value="to get in touch">to get in touch</option>
                        <option value="to keep in touch">to keep in touch</option>
                        <option value="new information on a particular topic">new information on a particular topic</option>
                        <option value="social network">social network</option>
                        <option value="social media">social media</option>
                        <option value="interaction">interaction</option>
                        <option value="to respond">to respond</option>
                        <option value="formal">Formal</option>
                        <option value="online forum">online forum</option>
                        <option value="relationship">relationship</option>
                    </select>
                    <div id="ex2_feedback1" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>to continue communicating with someone, for example, by email or telephone:</span>
                    <select id="ex2_q2" class="select-field">
                        <option value="">Select an option</option>
                        <option value="to get in touch">to get in touch</option>
                        <option value="to keep in touch">to keep in touch</option>
                        <option value="new information on a particular topic">new information on a particular topic</option>
                        <option value="social network">social network</option>
                        <option value="social media">social media</option>
                        <option value="interaction">interaction</option>
                        <option value="to respond">to respond</option>
                        <option value="formal">Formal</option>
                        <option value="online forum">online forum</option>
                        <option value="relationship">relationship</option>
                    </select>
                    <div id="ex2_feedback2" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>new information on a particular topic:</span>
                    <select id="ex2_q3" class="select-field">
                        <option value="">Select an option</option>
                        <option value="to get in touch">to get in touch</option>
                        <option value="to keep in touch">to keep in touch</option>
                        <option value="new information on a particular topic">new information on a particular topic</option>
                        <option value="social network">social network</option>
                        <option value="social media">social media</option>
                        <option value="interaction">interaction</option>
                        <option value="to respond">to respond</option>
                        <option value="formal">Formal</option>
                        <option value="online forum">online forum</option>
                        <option value="relationship">relationship</option>
                    </select>
                    <div id="ex2_feedback3" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>the different groups of people that you know:</span>
                    <select id="ex2_q4" class="select-field">
                        <option value="">Select an option</option>
                        <option value="to get in touch">to get in touch</option>
                        <option value="to keep in touch">to keep in touch</option>
                        <option value="new information on a particular topic">new information on a particular topic</option>
                        <option value="social network">social network</option>
                        <option value="social media">social media</option>
                        <option value="interaction">interaction</option>
                        <option value="to respond">to respond</option>
                        <option value="formal">Formal</option>
                        <option value="online forum">online forum</option>
                        <option value="relationship">relationship</option>
                    </select>
                    <div id="ex2_feedback4" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>websites and computer programs that allow people to communicate on the internet:</span>
                    <select id="ex2_q5" class="select-field">
                        <option value="">Select an option</option>
                        <option value="to get in touch">to get in touch</option>
                        <option value="to keep in touch">to keep in touch</option>
                        <option value="new information on a particular topic">new information on a particular topic</option>
                        <option value="social network">social network</option>
                        <option value="social media">social media</option>
                        <option value="interaction">interaction</option>
                        <option value="to respond">to respond</option>
                        <option value="formal">Formal</option>
                        <option value="online forum">online forum</option>
                        <option value="relationship">relationship</option>
                    </select>
                    <div id="ex2_feedback5" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>a time when two or more people communicate with or react to each other:</span>
                    <select id="ex2_q6" class="select-field">
                        <option value="">Select an option</option>
                        <option value="to get in touch">to get in touch</option>
                        <option value="to keep in touch">to keep in touch</option>
                        <option value="new information on a particular topic">new information on a particular topic</option>
                        <option value="social network">social network</option>
                        <option value="social media">social media</option>
                        <option value="interaction">interaction</option>
                        <option value="to respond">to respond</option>
                        <option value="formal">Formal</option>
                        <option value="online forum">online forum</option>
                        <option value="relationship">relationship</option>
                    </select>
                    <div id="ex2_feedback6" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>to say or do something in reply to something that has been said or done earlier:</span>
                    <select id="ex2_q7" class="select-field">
                        <option value="">Select an option</option>
                        <option value="to get in touch">to get in touch</option>
                        <option value="to keep in touch">to keep in touch</option>
                        <option value="new information on a particular topic">new information on a particular topic</option>
                        <option value="social network">social network</option>
                        <option value="social media">social media</option>
                        <option value="interaction">interaction</option>
                        <option value="to respond">to respond</option>
                        <option value="formal">Formal</option>
                        <option value="online forum">online forum</option>
                        <option value="relationship">relationship</option>
                    </select>
                    <div id="ex2_feedback7" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>describes language, clothes and behaviour which is used in important and serious events, for example a job interview:</span>
                    <select id="ex2_q8" class="select-field">
                        <option value="">Select an option</option>
                        <option value="to get in touch">to get in touch</option>
                        <option value="to keep in touch">to keep in touch</option>
                        <option value="new information on a particular topic">new information on a particular topic</option>
                        <option value="social network">social network</option>
                        <option value="social media">social media</option>
                        <option value="interaction">interaction</option>
                        <option value="to respond">to respond</option>
                        <option value="formal">Formal</option>
                        <option value="online forum">online forum</option>
                        <option value="relationship">relationship</option>
                    </select>
                    <div id="ex2_feedback8" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>a place on the internet where people can leave messages or discuss particular topics:</span>
                    <select id="ex2_q9" class="select-field">
                        <option value="">Select an option</option>
                        <option value="to get in touch">to get in touch</option>
                        <option value="to keep in touch">to keep in touch</option>
                        <option value="new information on a particular topic">new information on a particular topic</option>
                        <option value="social network">social network</option>
                        <option value="social media">social media</option>
                        <option value="interaction">interaction</option>
                        <option value="to respond">to respond</option>
                        <option value="formal">Formal</option>
                        <option value="online forum">online forum</option>
                        <option value="relationship">relationship</option>
                    </select>
                    <div id="ex2_feedback9" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>the way in which two or more people feel and behave towards each other:</span>
                    <select id="ex2_q10" class="select-field">
                        <option value="">Select an option</option>
                        <option value="to get in touch">to get in touch</option>
                        <option value="to keep in touch">to keep in touch</option>
                        <option value="new information on a particular topic">new information on a particular topic</option>
                        <option value="social network">social network</option>
                        <option value="social media">social media</option>
                        <option value="interaction">interaction</option>
                        <option value="to respond">to respond</option>
                        <option value="formal">Formal</option>
                        <option value="online forum">online forum</option>
                        <option value="relationship">relationship</option>
                    </select>
                    <div id="ex2_feedback10" class="feedback-box hidden"></div>
                </div>
            </div>
            <button onclick="checkExercise2()" class="button mt-4">Check Answers</button>
        </div>

        <!-- Exercise 3 -->
        <div class="exercise-section">
            <h2>Unit 4: Exercise 3</h2>
            <p>Read the information. Then match the phrases describing types of information with the words in bold in the statements.</p>
            <p class="paragraph-text">
                "In an IELTS Reading matching information task, you will read a text and some statements about it. It is important to understand what types of information the statements need you to find. The types of information might be:
                an example of / some examples of …,
                a comparison between …,
                a description of …,
                a reference to …,
                a prediction about …"
            </p>

            <div class="space-y-4">
                <div class="list-item">
                    <span>Young students use Instagram far <strong>more</strong> than they use SnapChat.</span>
                    <select id="ex3_q1" class="select-field">
                        <option value="">Select an option</option>
                        <option value="a comparison between">a comparison between</option>
                        <option value="a description of">a description of</option>
                        <option value="a prediction about">a prediction about</option>
                        <option value="a reference to">a reference to</option>
                        <option value="an example of">an example of</option>
                    </select>
                    <div id="ex3_feedback1" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>Digital devices <strong>will probably replace</strong> books in all UK schools by 2030.</span>
                    <select id="ex3_q2" class="select-field">
                        <option value="">Select an option</option>
                        <option value="a comparison between">a comparison between</option>
                        <option value="a description of">a description of</option>
                        <option value="a prediction about">a prediction about</option>
                        <option value="a reference to">a reference to</option>
                        <option value="an example of">an example of</option>
                    </select>
                    <div id="ex3_feedback2" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>The new phone has a <strong>great</strong> camera and a <strong>clever</strong> feature which makes apps easy to use.</span>
                    <select id="ex3_q3" class="select-field">
                        <option value="">Select an option</option>
                        <option value="a comparison between">a comparison between</option>
                        <option value="a description of">a description of</option>
                        <option value="a prediction about">a prediction about</option>
                        <option value="a reference to">a reference to</option>
                        <option value="an example of">an example of</option>
                    </select>
                    <div id="ex3_feedback3" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>The first email message <strong>was sent in 1971</strong>.</span>
                    <select id="ex3_q4" class="select-field">
                        <option value="">Select an option</option>
                        <option value="a comparison between">a comparison between</option>
                        <option value="a description of">a description of</option>
                        <option value="a prediction about">a prediction about</option>
                        <option value="a reference to">a reference to</option>
                        <option value="an example of">an example of</option>
                    </select>
                    <div id="ex3_feedback4" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>There are many reasons why I stopped using social media, <strong>such as</strong> the huge amount of time it took up.</span>
                    <select id="ex3_q5" class="select-field">
                        <option value="">Select an option</option>
                        <option value="a comparison between">a comparison between</option>
                        <option value="a description of">a description of</option>
                        <option value="a prediction about">a prediction about</option>
                        <option value="a reference to">a reference to</option>
                        <option value="an example of">an example of</option>
                    </select>
                    <div id="ex3_feedback5" class="feedback-box hidden"></div>
                </div>
            </div>
            <button onclick="checkExercise3()" class="button mt-4">Check Answers</button>
        </div>

        <!-- Exercise 4 -->
        <div class="exercise-section">
            <h2>Unit 4: Exercise 4</h2>
            <p>Read this paragraph from the text. What information does it contain? Choose the correct answer.</p>
            <h3>How technology has changed the way we communicate</h3>
            <p class="font-semibold">Paragraph A</p>
            <p class="paragraph-text">
                It’s often impossible for teenagers to imagine that in the past we all had to make our social arrangements either face-to-face or using a telephone landline. Just 20 years ago, trying to organise a visit to the cinema meant that you had to call your friends at least a day in advance and hope they’d be home when you rang. If someone didn’t turn up, you could try to call them from a public telephone box. If their parents were home, you could leave a message, but your plans for the evening would probably be ruined.
            </p>
            <p>The information in Paragraph A is:</p>
            <select id="ex4_q1" class="select-field">
                <option value="">Select an option</option>
                <option value="a">a comparison between the advantages of old and new technology.</option>
                <option value="b">a description of the difficulties people used to have before they had mobile phones.</option>
                <option value="c">a reference to the way technology can make relationships better or worse.</option>
            </select>
            <div id="ex4_feedback" class="feedback-box hidden"></div>
            <button onclick="checkExercise4()" class="button mt-4">Check Answer</button>
        </div>

        <!-- Exercise 5 -->
        <div class="exercise-section">
            <h2>Unit 4: Exercise 5</h2>
            <p>Read the information. Then match the types of information with the sentences.</p>
            <p class="paragraph-text">
                "When reading an IELTS Reading text, it is important to think about what type of information it covers. Other types of information could be:
                a reason for ...,
                details of ...,
                a description of ...,
                a suggestion .."
            </p>

            <div class="space-y-4">
                <div class="list-item">
                    <span>Perhaps we should focus more on face-to-face communication than digital communication?</span>
                    <select id="ex5_q1" class="select-field">
                        <option value="">Select an option</option>
                        <option value="a suggestion">a suggestion</option>
                        <option value="a reason for">a reason for</option>
                        <option value="a description of">a description of</option>
                        <option value="details of">details of</option>
                    </select>
                    <div id="ex5_feedback1" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>Fewer people are sending letters by post because stamps are very expensive nowadays.</span>
                    <select id="ex5_q2" class="select-field">
                        <option value="">Select an option</option>
                        <option value="a suggestion">a suggestion</option>
                        <option value="a reason for">a reason for</option>
                        <option value="a description of">a description of</option>
                        <option value="details of">details of</option>
                    </select>
                    <div id="ex5_feedback2" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>Mervyn's YouTube channel had a huge number of followers. His videos were about his daily life in New York and where people could go to find the best R’n’B music in Manhattan.</span>
                    <select id="ex5_q3" class="select-field">
                        <option value="">Select an option</option>
                        <option value="a suggestion">a suggestion</option>
                        <option value="a reason for">a reason for</option>
                        <option value="a description of">a description of</option>
                        <option value="details of">details of</option>
                    </select>
                    <div id="ex5_feedback3" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>75% of teens in the 12–17 age group own mobile phones. Every month, girls send out approximately 3,952 messages, and boys send about 2,815.</span>
                    <select id="ex5_q4" class="select-field">
                        <option value="">Select an option</option>
                        <option value="a suggestion">a suggestion</option>
                        <option value="a reason for">a reason for</option>
                        <option value="a description of">a description of</option>
                        <option value="details of">details of</option>
                    </select>
                    <div id="ex5_feedback4" class="feedback-box hidden"></div>
                </div>
            </div>
            <button onclick="checkExercise5()" class="button mt-4">Check Answers</button>
        </div>

        <!-- Exercise 6 -->
        <div class="exercise-section">
            <h2>Unit 4: Exercise 6</h2>
            <p>Read the next paragraph. Then match the information statements (A–D) with the numbered parts of the paragraph (1–3). There is one information statement that you do not need.</p>
            <p class="font-semibold">Paragraph B</p>
            <p class="paragraph-text">
                Nowadays, getting in touch is a lot easier. Almost every aspect of human communication has changed: we have email, text, Skype, Facebook and Instagram, and we are certainly busy using them to build and maintain our relationships. According to recent reports, the top social networks now each have more than a billion monthly active users. And keeping in touch isn’t just something we do in class or at work any more: we continue to communicate with friends, strangers, family and colleagues (1) while we’re on the train, in the living room and at the dinner table, for instance. One recent British study indicated that (2) 79% of teens even put their phone under their pillow so they can keep up-to-date with whatever is happening on social media day and night, and not miss out on updates. As for adults, a recent survey showed that (3) they now spend 20 to 28 hours a week on social media and have on average 275 personal connections. However, in contrast, only 11% of these same people actually meet their social connections in an actual physical environment on a regular basis.
            </p>
            <div class="mb-4">
                <p>A a comparison between the time spent online with friends and time spent in real places</p>
                <p>B some examples of typical locations in which digital technology may be found</p>
                <p>C the reason why some young people feel the need to keep a digital device with them at all times</p>
                <p>D the suggestion that adults could learn about digital communication from their children</p>
            </div>
            <div class="space-y-4">
                <div class="match-item">
                    <span>1.</span>
                    <select id="ex6_q1" class="select-field">
                        <option value="">Select an option</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                    </select>
                    <div id="ex6_feedback1" class="feedback-box hidden"></div>
                </div>
                <div class="match-item">
                    <span>2.</span>
                    <select id="ex6_q2" class="select-field">
                        <option value="">Select an option</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                    </select>
                    <div id="ex6_feedback2" class="feedback-box hidden"></div>
                </div>
                <div class="match-item">
                    <span>3.</span>
                    <select id="ex6_q3" class="select-field">
                        <option value="">Select an option</option>
                        <option value="A">A</option>
                        <option value="B">B</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                    </select>
                    <div id="ex6_feedback3" class="feedback-box hidden"></div>
                </div>
            </div>
            <button onclick="checkExercise6()" class="button mt-4">Check Answers</button>
        </div>

        <!-- Exercise 7 -->
        <div class="exercise-section">
            <h2>Unit 4: Exercise 7</h2>
            <p>Read the next paragraph. Then complete the matching information statements for the numbered parts of the paragraph. Use the words in the box.</p>
            <p class="font-semibold">Paragraph C</p>
            <p class="paragraph-text">
                Email is now one of the most common means of communication. At the moment, over 100 billion emails are sent and received per day for business purposes. (1) This trend is expected to continue, and business email will account for over 132 billion emails sent and received per day two years from now. The number of letters which are sent through the post, however, has decreased dramatically. (2) A consequence of this is that many town and village post offices have closed. These were once places where a great deal of social interaction used to take place between local people. Now it is no longer possible for neighbours or workers in the area to meet up with each other like this, and older people in particular are often unhappy about this development. But certainly the advantages of email cannot be ignored: in the past, the post would only be delivered once or twice a day. If a letter was sent to an overseas destination, it could take months. Without doubt, email has made it easier to do business.
            </p>
            <p class="font-semibold text-lg mb-4">Words to use: a description, a prediction, community, form of communication</p>

            <div class="space-y-4">
                <div class="list-item">
                    <span class="mr-2">1.</span>
                    <select id="ex7_q1a" class="select-field w-1/3">
                        <option value="">Select type</option>
                        <option value="a description">a description</option>
                        <option value="a prediction">a prediction</option>
                        <option value="community">community</option>
                        <option value="form of communication">form of communication</option>
                    </select>
                    <span class="mx-2">of how a particular</span>
                    <select id="ex7_q1b" class="select-field w-1/3">
                        <option value="">Select type</option>
                        <option value="a description">a description</option>
                        <option value="a prediction">a prediction</option>
                        <option value="community">community</option>
                        <option value="form of communication">form of communication</option>
                    </select>
                    <div id="ex7_feedback1" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span class="mr-2">2.</span>
                    <select id="ex7_q2a" class="select-field w-1/3">
                        <option value="">Select type</option>
                        <option value="a description">a description</option>
                        <option value="a prediction">a prediction</option>
                        <option value="community">community</option>
                        <option value="form of communication">form of communication</option>
                    </select>
                    <span class="mx-2">of how the loss of a public service has affected the</span>
                    <select id="ex7_q2b" class="select-field w-1/3">
                        <option value="">Select type</option>
                        <option value="a description">a description</option>
                        <option value="a prediction">a prediction</option>
                        <option value="community">community</option>
                        <option value="form of communication">form of communication</option>
                    </select>
                    <div id="ex7_feedback2" class="feedback-box hidden"></div>
                </div>
            </div>
            <button onclick="checkExercise7()" class="button mt-4">Check Answers</button>
        </div>

        <!-- Exercise 8 -->
        <div class="exercise-section">
            <h2>Unit 4: Exercise 8</h2>
            <p>Quickly skim read the next paragraphs. Then do the exercise.</p>
            <p class="font-semibold">Paragraph D</p>
            <p class="paragraph-text">
                However, there are several downsides to this form of technology. Firstly, no one would disagree that email puts pressure on people to respond immediately as soon as they find a new message in their inbox. A recent French report says that anxiety and general tiredness has risen dramatically amongst office workers, largely because they carry their digital devices with them, feeling obliged to constantly check for new mail from clients. A further problem is how to write an email, especially when communicating with people we don’t know well. In the past, everyone knew that it was ‘correct’ to begin a letter ‘Dear Sir/Madam’ and end with ‘Yours faithfully’. Nowadays, these phrases often feel too formal. No one wants to give the wrong impression when writing an email, but without ‘rules’, this can easily happen.
            </p>
            <p class="font-semibold">Paragraph E</p>
            <p class="paragraph-text">
                Another significant impact technology has had on methods of communication is in the field of education. Traditionally, if someone wanted to take a higher education course, they would have to travel to attend lessons on a university campus. Nowadays, it is possible to take a range of courses through distance learning, and the number of these is likely to rise in the next few years. What is the appeal of studying this way? Many online courses encourage students to take part in online forums and post comments about their learning experiences, reading assignments and projects. They must also comment on their classmates’ posts. In one way, this approach certainly appears to encourage communication.
            </p>
            <p class="font-semibold">Paragraph F</p>
            <p class="paragraph-text">
                However, some surveys have found the opposite to be true. Because online students are physically separated, and indeed may never have met, they do not have the opportunity to build a good relationship. Students who come to campus regularly have the chance to get to know and support each other, and feel part of a community, so when they are asked to comment on the other person’s work, they can do this in ways they know the other person will appreciate. For example, some students prefer their peers to be direct in their criticism, whereas others might prefer a more sensitive approach. But when students are asked to comment on the work or opinions of people they have never met, they are often reluctant to do so. Interestingly, one of the main reasons why people give up studying on their online courses is that they miss the face-to-face interaction with others. Certainly technology has made our lives more ‘convenient’ but perhaps also more complicated. There are many questions still to be answered about how we can and should use our modern digital tools to enable effective communication, an evolutionary skill that has been centuries in development.
            </p>
            <p>Match the paragraphs with the general topics. Look at the text on page 1 again if you need to.</p>
            <div class="space-y-4">
                <div class="match-item">
                    <span>the advantages of studying online</span>
                    <input type="text" id="ex8_q1" class="input-field" placeholder="D, E, or F">
                    <div id="ex8_feedback1" class="feedback-box hidden"></div>
                </div>
                <div class="match-item">
                    <span>problems that occur at work and in formal situations because of digital communication</span>
                    <input type="text" id="ex8_q2" class="input-field" placeholder="D, E, or F">
                    <div id="ex8_feedback2" class="feedback-box hidden"></div>
                </div>
                <div class="match-item">
                    <span>the disadvantages of studying online</span>
                    <input type="text" id="ex8_q3" class="input-field" placeholder="D, E, or F">
                    <div id="ex8_feedback3" class="feedback-box hidden"></div>
                </div>
            </div>
            <button onclick="checkExercise8()" class="button mt-4">Check Answers</button>
        </div>

        <!-- Exercise 9 -->
        <div class="exercise-section">
            <h2>Unit 4: Exercise 9</h2>
            <p>Read the paragraphs again, this time carefully. Then do the exercise.</p>
            <p class="font-semibold">Paragraph D</p>
            <p class="paragraph-text">
                However, there are several downsides to this form of technology. Firstly, no one would disagree that email puts pressure on people to respond immediately as soon as they find a new message in their inbox. A recent French report says that anxiety and general tiredness has risen dramatically amongst office workers, largely because they carry their digital devices with them, feeling obliged to constantly check for new mail from clients. A further problem is how to write an email, especially when communicating with people we don’t know well. In the past, everyone knew that it was ‘correct’ to begin a letter ‘Dear Sir/Madam’ and end with ‘Yours faithfully’. Nowadays, these phrases often feel too formal. No one wants to give the wrong impression when writing an email, but without ‘rules’, this can easily happen.
            </p>
            <p class="font-semibold">Paragraph E</p>
            <p class="paragraph-text">
                Another significant impact technology has had on methods of communication is in the field of education. Traditionally, if someone wanted to take a higher education course, they would have to travel to attend lessons on a university campus. Nowadays, it is possible to take a range of courses through distance learning, and the number of these is likely to rise in the next few years. What is the appeal of studying this way? Many online courses encourage students to take part in online forums and post comments about their learning experiences, reading assignments and projects. They must also comment on their classmates’ posts. In one way, this approach certainly appears to encourage communication.
            </p>
            <p class="font-semibold">Paragraph F</p>
            <p class="paragraph-text">
                However, some surveys have found the opposite to be true. Because online students are physically separated, and indeed may never have met, they do not have the opportunity to build a good relationship. Students who come to campus regularly have the chance to get to know and support each other, and feel part of a community, so when they are asked to comment on the other person’s work, they can do this in ways they know the other person will appreciate. For example, some students prefer their peers to be direct in their criticism, whereas others might prefer a more sensitive approach. But when students are asked to comment on the work or opinions of people they have never met, they are often reluctant to do so. Interestingly, one of the main reasons why people give up studying on their online courses is that they miss the face-to-face interaction with others. Certainly technology has made our lives more ‘convenient’ but perhaps also more complicated. There are many questions still to be answered about how we can and should use our modern digital tools to enable effective communication, an evolutionary skill that has been centuries in development.
            </p>
            <p>Which paragraph contains the following information? You may use any letter more than once. Read the text on page 1 again if you need to.</p>
            <div class="space-y-4">
                <div class="match-item">
                    <span>a reason why some learners do not complete an academic programme</span>
                    <input type="text" id="ex9_q1" class="input-field" placeholder="D, E, or F">
                    <div id="ex9_feedback1" class="feedback-box hidden"></div>
                </div>
                <div class="match-item">
                    <span>a reason for an increase in levels of stress in employees</span>
                    <input type="text" id="ex9_q2" class="input-field" placeholder="D, E, or F">
                    <div id="ex9_feedback2" class="feedback-box hidden"></div>
                </div>
                <div class="match-item">
                    <span>a prediction about the way that an academic service might develop in the future</span>
                    <input type="text" id="ex9_q3" class="input-field" placeholder="D, E, or F">
                    <div id="ex9_feedback3" class="feedback-box hidden"></div>
                </div>
                <div class="match-item">
                    <span>an example of a traditional practice in writing that people used to use more often</span>
                    <input type="text" id="ex9_q4" class="input-field" placeholder="D, E, or F">
                    <div id="ex9_feedback4" class="feedback-box hidden"></div>
                </div>
                <div class="match-item">
                    <span>a comparison between the ways that different people like to be given feedback on their work</span>
                    <input type="text" id="ex9_q5" class="input-field" placeholder="D, E, or F">
                    <div id="ex9_feedback5" class="feedback-box hidden"></div>
                </div>
            </div>
            <button onclick="checkExercise9()" class="button mt-4">Check Answers</button>
        </div>

        <!-- Exercise 10 -->
        <div class="exercise-section">
            <h2>Unit 4: Exercise 10</h2>
            <p>Think about what you’ve learnt in this unit.</p>
            <p>Complete the advice. Use the words in the box.</p>

            <div class="space-y-4">
                <div class="list-item">
                    <span>Before you look at the task, it is a good idea to </span>
                    <select id="ex10_q1" class="select-field">
                        <option value="">Select an option</option>
                        <option value="skim read the text">skim read the text</option>
                        <option value="underline key words and phrases">underline key words and phrases</option>
                        <option value="what type of information">what type of information</option>
                        <option value="a description of, a comparison">a description of, a comparison</option>
                        <option value="references to, reasons or examples of">references to, reasons or examples of</option>
                        <option value="more than one statement">more than one statement</option>
                    </select>
                    <span> to understand the main idea of each paragraph.</span>
                    <div id="ex10_feedback1" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>Before you complete the task, </span>
                    <select id="ex10_q2" class="select-field">
                        <option value="">Select an option</option>
                        <option value="skim read the text">skim read the text</option>
                        <option value="underline key words and phrases">underline key words and phrases</option>
                        <option value="what type of information">what type of information</option>
                        <option value="a description of, a comparison">a description of, a comparison</option>
                        <option value="references to, reasons or examples of">references to, reasons or examples of</option>
                        <option value="more than one statement">more than one statement</option>
                    </select>
                    <span> in the matching information statements.</span>
                    <div id="ex10_feedback2" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>The key words in matching information statements tell you </span>
                    <select id="ex10_q3" class="select-field">
                        <option value="">Select an option</option>
                        <option value="skim read the text">skim read the text</option>
                        <option value="underline key words and phrases">underline key words and phrases</option>
                        <option value="what type of information">what type of information</option>
                        <option value="a description of, a comparison">a description of, a comparison</option>
                        <option value="references to, reasons or examples of">references to, reasons or examples of</option>
                        <option value="more than one statement">more than one statement</option>
                    </select>
                    <span> you need.</span>
                    <div id="ex10_feedback3" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>Some examples of key words in matching information statements are </span>
                    <select id="ex10_q4" class="select-field">
                        <option value="">Select an option</option>
                        <option value="skim read the text">skim read the text</option>
                        <option value="underline key words and phrases">underline key words and phrases</option>
                        <option value="what type of information">what type of information</option>
                        <option value="a description of, a comparison">a description of, a comparison</option>
                        <option value="references to, reasons or examples of">references to, reasons or examples of</option>
                        <option value="more than one statement">more than one statement</option>
                    </select>
                    <span>.</span>
                    <div id="ex10_feedback4" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>Look carefully to see if any key words are plural, for example </span>
                    <select id="ex10_q5" class="select-field">
                        <option value="">Select an option</option>
                        <option value="skim read the text">skim read the text</option>
                        <option value="underline key words and phrases">underline key words and phrases</option>
                        <option value="what type of information">what type of information</option>
                        <option value="a description of, a comparison">a description of, a comparison</option>
                        <option value="references to, reasons or examples of">references to, reasons or examples of</option>
                        <option value="more than one statement">more than one statement</option>
                    </select>
                    <span>.</span>
                    <div id="ex10_feedback5" class="feedback-box hidden"></div>
                </div>
                <div class="list-item">
                    <span>Remember that sometimes a paragraph may match </span>
                    <select id="ex10_q6" class="select-field">
                        <option value="">Select an option</option>
                        <option value="skim read the text">skim read the text</option>
                        <option value="underline key words and phrases">underline key words and phrases</option>
                        <option value="what type of information">what type of information</option>
                        <option value="a description of, a comparison">a description of, a comparison</option>
                        <option value="references to, reasons or examples of">references to, reasons or examples of</option>
                        <option value="more than one statement">more than one statement</option>
                    </select>
                    <span>.</span>
                    <div id="ex10_feedback6" class="feedback-box hidden"></div>
                </div>
            </div>
            <button onclick="checkExercise10()" class="button mt-4">Check Answers</button>
        </div>

        <div class="save-load-buttons">
            <button onclick="saveProgress()" class="button">Save Progress</button>
            <button onclick="loadProgress()" class="button">Load Progress</button>
        </div>

    </div>

    <div id="message-box"></div>

    <script>
        // Global state object for saving/loading progress
        let appState = {};

        // Helper function to get elements by ID
        function getElement(id) {
            return document.getElementById(id);
        }

        // Function to show a temporary message (from style.css logic)
        function showMessage(message, type = 'success') {
            const messageBox = getElement('message-box');
            messageBox.textContent = message;
            messageBox.className = ''; // Clear previous classes
            messageBox.classList.add('show');
            if (type === 'success') {
                messageBox.style.backgroundColor = '#4CAF50';
            } else if (type === 'error') {
                messageBox.style.backgroundColor = '#f44336';
            }
            setTimeout(() => {
                messageBox.classList.remove('show');
            }, 3000);
        }

        // Helper function to normalize text for comparison
        function normalizeText(text) {
            return text.toLowerCase().trim().replace(/\s+/g, ' ');
        }

        // Unified feedback function (adapted from style.css logic)
        function setFeedback(elementId, isCorrect, inputElementId = null) {
            const feedbackElement = getElement(elementId);
            if (!feedbackElement) return;

            // Clear previous feedback classes
            feedbackElement.classList.remove('hidden', 'correct-feedback', 'incorrect-feedback', 'correct', 'incorrect');
            feedbackElement.textContent = '';

            // Apply feedback-box specific classes if it's a feedback-box
            if (feedbackElement.classList.contains('feedback-box')) {
                if (isCorrect) {
                    feedbackElement.classList.add('correct');
                    feedbackElement.textContent = 'Correct!';
                } else {
                    feedbackElement.classList.add('incorrect');
                    feedbackElement.textContent = 'Incorrect.'; // Shortened message
                }
            } else { // Apply general feedback classes for spans
                if (isCorrect) {
                    feedbackElement.classList.add('correct-feedback');
                    feedbackElement.textContent = '✓ Correct!';
                } else {
                    feedbackElement.classList.add('incorrect-feedback');
                    feedbackElement.textContent = '✗ Incorrect.'; // Shortened message
                }
            }
            feedbackElement.classList.remove('hidden'); // Ensure it's visible

            // Apply styling to the input/select element itself if provided
            if (inputElementId) {
                const inputElement = getElement(inputElementId);
                if (inputElement) {
                    inputElement.classList.remove('border-green-500', 'bg-green-50', 'border-red-500', 'bg-red-50', 'border-gray-300');
                    if (isCorrect) {
                        inputElement.classList.add('border-green-500', 'bg-green-50');
                    } else {
                        inputElement.classList.add('border-red-500', 'bg-red-50');
                    }
                }
            }
        }

        // Save Progress Function (adapted to use showMessage)
        function saveProgress() {
            const answers = {};
            document.querySelectorAll('input[type="text"], select, textarea').forEach(input => {
                answers[input.id] = input.value;
            });

            try {
                localStorage.setItem('ieltsWorksheetProgress', JSON.stringify(answers));
                //showMessage('Progress saved automatically!', 'success');
            } catch (e) {
                //showMessage('Failed to save progress.', 'error');
                console.error('Error saving to local storage:', e);
            }
        }

        // Load Progress Function (adapted to use showMessage)
        function loadProgress() {
            try {
                const savedProgress = localStorage.getItem('ieltsWorksheetProgress');
                if (savedProgress) {
                    const answers = JSON.parse(savedProgress);
                    for (const id in answers) {
                        const element = document.getElementById(id);
                        if (element) {
                            element.value = answers[id];
                        }
                    }
                    showMessage('Progress loaded successfully!', 'success');
                } else {
                    showMessage('No saved progress found.', 'error');
                }
            } catch (e) {
                showMessage('Error loading progress.', 'error');
                console.error('Error loading from local storage:', e);
            }
        }

        // Function to clear all feedback elements
        function clearAllFeedbacks() {
            document.querySelectorAll('[id$="feedback"], .feedback-box').forEach(el => {
                el.classList.add('hidden');
                el.classList.remove('correct-feedback', 'incorrect-feedback', 'correct', 'incorrect');
                el.textContent = '';
            });
            document.querySelectorAll('input[type="text"], select, textarea').forEach(input => {
                input.classList.remove('border-green-500', 'bg-green-50', 'border-red-500', 'bg-red-50');
                input.classList.add('border-gray-300'); // Reset to default border
            });
        }

        // Clear All Answers Function
        function clearAllAnswers() {
            document.querySelectorAll('input[type="text"], select, textarea').forEach(input => {
                input.value = '';
                // For select elements, reset to the first option if it's a placeholder
                if (input.tagName === 'SELECT' && input.options[0].value === "") {
                    input.value = "";
                }
            });
            clearAllFeedbacks(); // Clear all feedback and reset input styles
            saveProgress(); // Save the cleared state
            showMessage('All answers cleared!', 'success');
        }

        // Exercise 1 Check - Updated for Dropdown and new setFeedback
        function checkExercise1() {
            const answers = {
                'ex1_q1': '1920s',
                'ex1_q2': '1970s',
                'ex1_q3': '1980s',
                'ex1_q4': '2000s',
                'ex1_q5': '2010s'
            };

            for (const [id, correctAnswer] of Object.entries(answers)) {
                const selectElement = getElement(id);
                const isCorrect = selectElement.value === correctAnswer;
                setFeedback(`${id.replace('q', 'feedback')}`, isCorrect, id);
            }
        }

        // Exercise 2 Check - Updated for new setFeedback
        function checkExercise2() {
            const answers = {
                'ex2_q1': 'to get in touch',
                'ex2_q2': 'to keep in touch',
                'ex2_q3': 'new information on a particular topic',
                'ex2_q4': 'social network',
                'ex2_q5': 'social media',
                'ex2_q6': 'interaction',
                'ex2_q7': 'to respond',
                'ex2_q8': 'Formal',
                'ex2_q9': 'online forum',
                'ex2_q10': 'relationship'
            };

            for (const [id, correctAnswer] of Object.entries(answers)) {
                const selectElement = getElement(id);
                const isCorrect = selectElement.value === correctAnswer;
                setFeedback(`${id.replace('q', 'feedback')}`, isCorrect, id);
            }
        }

        // Exercise 3 Check - Updated for new setFeedback
        function checkExercise3() {
            const answers = {
                'ex3_q1': 'a comparison between',
                'ex3_q2': 'a prediction about',
                'ex3_q3': 'a description of',
                'ex3_q4': 'a reference to',
                'ex3_q5': 'an example of'
            };

            for (const [id, correctAnswer] of Object.entries(answers)) {
                const selectElement = getElement(id);
                const isCorrect = selectElement.value === correctAnswer;
                setFeedback(`${id.replace('q', 'feedback')}`, isCorrect, id);
            }
        }

        // Exercise 4 Check - Updated for new setFeedback
        function checkExercise4() {
            const selectedOption = getElement('ex4_q1');
            const isCorrect = selectedOption.value === 'b';
            setFeedback('ex4_feedback', isCorrect, 'ex4_q1');
        }

        // Exercise 5 Check - Updated for new setFeedback
        function checkExercise5() {
            const answers = {
                'ex5_q1': 'a suggestion',
                'ex5_q2': 'a reason for',
                'ex5_q3': 'a description of',
                'ex5_q4': 'details of'
            };

            for (const [id, correctAnswer] of Object.entries(answers)) {
                const selectElement = getElement(id);
                const isCorrect = selectElement.value === correctAnswer;
                setFeedback(`${id.replace('q', 'feedback')}`, isCorrect, id);
            }
        }

        // Exercise 6 Check - Fixed SyntaxError: Changed '=' to 'of' in for...of loop
        function checkExercise6() {
            const answers = {
                'ex6_q1': 'B',
                'ex6_q2': 'C',
                'ex6_q3': 'A'
            };

            for (const [id, correctAnswer] of Object.entries(answers)) { // FIX: Changed '=' to 'of'
                const selectElement = getElement(id);
                const isCorrect = selectElement.value === correctAnswer;
                setFeedback(`${id.replace('q', 'feedback')}`, isCorrect, id);
            }
        }

        // Exercise 7 Check - Updated for new setFeedback
        function checkExercise7() {
            const answers = {
                'ex7_q1a': 'a prediction',
                'ex7_q1b': 'form of communication',
                'ex7_q2a': 'a description',
                'ex7_q2b': 'community'
            };

            const input1a = getElement('ex7_q1a');
            const input1b = getElement('ex7_q1b');
            const isCorrect1 = input1a.value === answers.ex7_q1a && input1b.value === answers.ex7_q1b;
            setFeedback('ex7_feedback1', isCorrect1, 'ex7_q1a'); // Apply to the first select for visual feedback
            setFeedback('ex7_feedback1', isCorrect1, 'ex7_q1b'); // Apply to the second select for visual feedback

            const input2a = getElement('ex7_q2a');
            const input2b = getElement('ex7_q2b');
            const isCorrect2 = input2a.value === answers.ex7_q2a && input2b.value === answers.ex7_q2b;
            setFeedback('ex7_feedback2', isCorrect2, 'ex7_q2a'); // Apply to the first select for visual feedback
            setFeedback('ex7_feedback2', isCorrect2, 'ex7_q2b'); // Apply to the second select for visual feedback
        }

        // Exercise 8 Check - Updated for new setFeedback
        function checkExercise8() {
            const answers = {
                'ex8_q1': 'E',
                'ex8_q2': 'D',
                'ex8_q3': 'F'
            };

            for (const [id, correctAnswer] of Object.entries(answers)) {
                const input = getElement(id);
                const isCorrect = normalizeText(input.value) === normalizeText(correctAnswer);
                setFeedback(`${id.replace('q', 'feedback')}`, isCorrect, id);
            }
        }

        // Exercise 9 Check - Updated for new setFeedback
        function checkExercise9() {
            const answers = {
                'ex9_q1': 'F',
                'ex9_q2': 'D',
                'ex9_q3': 'E',
                'ex9_q4': 'D',
                'ex9_q5': 'F'
            };

            for (const [id, correctAnswer] of Object.entries(answers)) {
                const input = getElement(id);
                const isCorrect = normalizeText(input.value) === normalizeText(correctAnswer);
                setFeedback(`${id.replace('q', 'feedback')}`, isCorrect, id);
            }
        }

        // Exercise 10 Check - Updated for new setFeedback
        function checkExercise10() {
            const answers = {
                'ex10_q1': 'skim read the text',
                'ex10_q2': 'underline key words and phrases',
                'ex10_q3': 'what type of information',
                'ex10_q4': 'a description of, a comparison',
                'ex10_q5': 'references to, reasons or examples of',
                'ex10_q6': 'more than one statement'
            };

            for (const [id, correctAnswer] of Object.entries(answers)) {
                const selectElement = getElement(id);
                const isCorrect = selectElement.value === correctAnswer;
                setFeedback(`${id.replace('q', 'feedback')}`, isCorrect, id);
            }
        }

        // Autosave setup
        document.addEventListener('DOMContentLoaded', () => {
            loadProgress(); // Load progress when the page loads
            setInterval(saveProgress, 5000); // Autosave every 5 seconds
            
            // Attach event listener for clear all answers button
            const clearButton = getElement('clear-all-answers-button');
            if (clearButton) {
                clearButton.addEventListener('click', clearAllAnswers);
            }
        });
    </script>
</body>
</html>
